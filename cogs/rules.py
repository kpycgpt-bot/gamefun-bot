import discord
from discord.ext import commands
from utils import EmbedBuilder
from config import Config
import logging

logger = logging.getLogger('DiscordBot.Rules')

class Rules(commands.Cog):
    """–°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤–∏–ª —Å–µ—Ä–≤–µ—Ä–∞"""
    
    def __init__(self, bot):
        self.bot = bot
        logger.info("‚úÖ Rules –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω")
    
    @commands.command(name='rules', aliases=['–ø—Ä–∞–≤–∏–ª–∞'])
    @commands.has_permissions(administrator=True)
    async def send_rules(self, ctx):
        """
        üìú –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ —Å–µ—Ä–≤–µ—Ä–∞
        
        –°–æ–∑–¥–∞–µ—Ç –∫—Ä–∞—Å–∏–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏
        
        –¢—Ä–µ–±—É–µ–º—ã–µ –ø—Ä–∞–≤–∞: Administrator
        """
        # –£–¥–∞–ª—è–µ–º –∫–æ–º–∞–Ω–¥—É
        try:
            await ctx.message.delete()
        except:
            pass
        
        # –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
        embed1 = discord.Embed(
            title="üìú –ü–†–ê–í–ò–õ–ê –°–ï–†–í–ï–†–ê",
            description="**–ü—Ä–æ—á–∏—Ç–∞–π –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –æ–±—â–µ–Ω–∏—è!**",
            color=Config.COLOR_INFO
        )
        
        rules_text = """
**1Ô∏è‚É£ –£–≤–∞–∂–µ–Ω–∏–µ**
–ë—É–¥—å –≤–µ–∂–ª–∏–≤ —Å –¥—Ä—É–≥–∏–º–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏. –ó–∞–ø—Ä–µ—â–µ–Ω—ã –æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è, —Ç—Ä–∞–≤–ª—è, –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ü–∏—è.

**2Ô∏è‚É£ –ù–µ—Ü–µ–Ω–∑—É—Ä–Ω–∞—è –ª–µ–∫—Å–∏–∫–∞**
–°—Ç–∞—Ä–∞–π—Å—è –∏–∑–±–µ–≥–∞—Ç—å –º–∞—Ç–∞. –ó–∞ —á—Ä–µ–∑–º–µ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ.

**3Ô∏è‚É£ –°–ø–∞–º –∏ —Ñ–ª—É–¥**
–ù–µ —Å–ø–∞–º—å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏, —Å—Ç–∏–∫–µ—Ä–∞–º–∏, —É–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏. –ù–µ —Ñ–ª—É–¥–∏ –≤ –æ–±—â–∏—Ö –∫–∞–Ω–∞–ª–∞—Ö.

**4Ô∏è‚É£ –ó–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç**
–ù–µ–ª—å–∑—è: –ø–æ—Ä–Ω–æ, gore, –ø—Ä–æ–ø–∞–≥–∞–Ω–¥—É –Ω–∞—Ä–∫–æ—Ç–∏–∫–æ–≤/–Ω–∞—Å–∏–ª–∏—è, —Å–∫–∞–º—ã, –≤–∏—Ä—É—Å—ã.

**5Ô∏è‚É£ –†–µ–∫–ª–∞–º–∞**
–†–µ–∫–ª–∞–º–∞ –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤/–ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Ç–æ–ª—å–∫–æ —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏.

**6Ô∏è‚É£ –ü–æ–ª–∏—Ç–∏–∫–∞ –∏ —Ä–µ–ª–∏–≥–∏—è**
–£–≤–∞–∂–∞–π —á—É–∂–æ–µ –º–Ω–µ–Ω–∏–µ. –ò–∑–±–µ–≥–∞–π –ø—Ä–æ–≤–æ–∫–∞—Ü–∏–π –∏ —Å–ø–æ—Ä–æ–≤ –Ω–∞ –æ—Å—Ç—Ä—ã–µ —Ç–µ–º—ã.

**7Ô∏è‚É£ –ù–∏–∫–Ω–µ–π–º—ã**
–ò—Å–ø–æ–ª—å–∑—É–π —á–∏—Ç–∞–µ–º—ã–π –Ω–∏–∫–Ω–µ–π–º. –ó–∞–ø—Ä–µ—â–µ–Ω—ã –æ—Å–∫–æ—Ä–±–∏—Ç–µ–ª—å–Ω—ã–µ/–Ω–µ–ø—Ä–∏—Å—Ç–æ–π–Ω—ã–µ –Ω–∏–∫–∏.

**8Ô∏è‚É£ –ö–∞–Ω–∞–ª—ã**
–ò—Å–ø–æ–ª—å–∑—É–π –∫–∞–Ω–∞–ª—ã –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é. –ù–µ –æ—Ñ—Ñ—Ç–æ–ø—å –≤ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∫–∞–Ω–∞–ª–∞—Ö.
"""
        embed1.description += f"\n{rules_text}"
        
        # –ù–∞–∫–∞–∑–∞–Ω–∏—è
        embed2 = discord.Embed(
            title="‚öñÔ∏è –ù–ê–ö–ê–ó–ê–ù–ò–Ø",
            color=Config.COLOR_WARNING
        )
        
        punishments = """
**üü° –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ (Warn)**
‚Ä¢ –ó–∞ –º–µ–ª–∫–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è
‚Ä¢ 3 –≤–∞—Ä–Ω–∞ = –±–∞–Ω

**üü† –ú—É—Ç**
‚Ä¢ –ó–∞ —Å–ø–∞–º, —Ñ–ª—É–¥, –∫–∞–ø—Å
‚Ä¢ –ù–∞ –≤—Ä–µ–º—è –æ—Ç 10 –º–∏–Ω—É—Ç –¥–æ 7 –¥–Ω–µ–π

**üî¥ –ö–∏–∫**
‚Ä¢ –ó–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è
‚Ä¢ –ú–æ–∂–µ—à—å –≤–µ—Ä–Ω—É—Ç—å—Å—è –ø–æ –∏–Ω–≤–∞–π—Ç—É

**‚ö´ –ë–∞–Ω**
‚Ä¢ –ó–∞ —Å–µ—Ä—å–µ–∑–Ω—ã–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è
‚Ä¢ –ó–∞ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ 3 –≤–∞—Ä–Ω–æ–≤
‚Ä¢ –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–π
"""
        embed2.description = punishments
        
        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
        embed3 = discord.Embed(
            title="‚ÑπÔ∏è –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û",
            color=Config.COLOR_INFO
        )
        
        additional = f"""
**ü§ñ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞**
–ò—Å–ø–æ–ª—å–∑—É–π `{Config.PREFIX}help` –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥

**üé´ –ü–æ–¥–¥–µ—Ä–∂–∫–∞**
–ï—Å—Ç—å –≤–æ–ø—Ä–æ—Å? –û—Ç–∫—Ä–æ–π —Ç–∏–∫–µ—Ç –≤ –∫–∞–Ω–∞–ª–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏

**üì¢ –ù–æ–≤–æ—Å—Ç–∏**
–°–ª–µ–¥–∏ –∑–∞ –Ω–æ–≤–æ—Å—Ç—è–º–∏ —Å–µ—Ä–≤–µ—Ä–∞ –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–º –∫–∞–Ω–∞–ª–µ

**‚úÖ –°–æ–≥–ª–∞—Å–∏–µ**
–ù–∞—Ö–æ–¥—è—Å—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, —Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–≥–ª–∞—à–∞–µ—à—å—Å—è —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏
"""
        embed3.description = additional
        
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º
        await ctx.send(embeds=[embed1, embed2, embed3])
        logger.info(f"{ctx.author} –æ—Ç–ø—Ä–∞–≤–∏–ª –ø—Ä–∞–≤–∏–ª–∞ —Å–µ—Ä–≤–µ—Ä–∞")

async def setup(bot):
    await bot.add_cog(Rules(bot))
