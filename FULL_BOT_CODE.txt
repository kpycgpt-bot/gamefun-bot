=== –ü–û–õ–ù–´–ô –ö–û–î –ë–û–¢–ê ===
–≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.


==================================================
üìÇ –§–ê–ô–õ: .\config.py
==================================================
import os
from dotenv import load_dotenv

# 1. –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞ .env (–µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å —Ä—è–¥–æ–º)
load_dotenv()

# 2. –ë–æ—Ç –±–µ—Ä–µ—Ç —Ç–æ–∫–µ–Ω –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è
# –ï—Å–ª–∏ —Ç—ã –Ω–∞ –ü–ö ‚Äî –æ–Ω –≤–æ–∑—å–º–µ—Ç –∏–∑ .env
# –ï—Å–ª–∏ —Ç—ã –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ ‚Äî –æ–Ω –≤–æ–∑—å–º–µ—Ç –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ö–æ—Å—Ç–∏–Ω–≥–∞
TOKEN = "–°–ö–†–´–¢–û_–î–õ–Ø_–ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò"

==================================================
üìÇ –§–ê–ô–õ: .\database.py
==================================================
Ôªøimport aiosqlite
import json
import os

DB_NAME = "database.db"

class Database:
    def __init__(self):
        self.conn = None

    async def connect(self):
        """–°–æ–∑–¥–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î –∏ —Ç–∞–±–ª–∏—Ü—ã, –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç."""
        self.conn = await aiosqlite.connect(DB_NAME)
        # –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –ø–æ–ª—è–º –ø–æ –∏–º–µ–Ω–∏ (row['xp']), –∞ –Ω–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É (row[1])
        self.conn.row_factory = aiosqlite.Row 
        await self.create_tables()
        print("‚úÖ [Database] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å–ø–µ—à–Ω–æ!")

    async def create_tables(self):
        # –Æ–∑–µ—Ä—ã
        await self.conn.execute("""
            CREATE TABLE IF NOT EXISTS users (
                user_id INTEGER PRIMARY KEY,
                xp INTEGER DEFAULT 0,
                level INTEGER DEFAULT 1,
                coins INTEGER DEFAULT 0,
                invites INTEGER DEFAULT 0
            )
        """)
        # –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å
        await self.conn.execute("""
            CREATE TABLE IF NOT EXISTS inventory (
                user_id INTEGER,
                item_id TEXT,
                count INTEGER,
                PRIMARY KEY (user_id, item_id)
            )
        """)
        # –í–∞—Ä–Ω—ã
        await self.conn.execute("""
            CREATE TABLE IF NOT EXISTS warns (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                user_id INTEGER,
                admin_id INTEGER,
                reason TEXT,
                date TIMESTAMP DEFAULT CURRENT_TIMESTAMP
            )
        """)
        # –ò–≤–µ–Ω—Ç—ã
        await self.conn.execute("""
            CREATE TABLE IF NOT EXISTS active_events (
                message_id INTEGER PRIMARY KEY,
                channel_id INTEGER,
                reward INTEGER,
                required_users INTEGER,
                users_list TEXT
            )
        """)
        await self.conn.commit()

    async def close(self):
        if self.conn:
            await self.conn.close()

    # --- –Æ–ó–ï–†–´ ---
    async def get_user(self, user_id):
        async with self.conn.execute("SELECT * FROM users WHERE user_id = ?", (user_id,)) as cursor:
            user = await cursor.fetchone()
            if not user:
                await self.conn.execute("INSERT INTO users (user_id, invites) VALUES (?, 0)", (user_id,))
                await self.conn.commit()
                return {"xp": 0, "level": 1, "coins": 0, "invites": 0}
            return dict(user) # –ü—Ä–µ–≤—Ä–∞—â–∞–µ–º –æ–±—ä–µ–∫—Ç Row –≤ –æ–±—ã—á–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å

    async def update_user(self, user_id, xp=None, level=None, coins=None):
        if xp is not None:
            await self.conn.execute("UPDATE users SET xp = ? WHERE user_id = ?", (xp, user_id))
        if level is not None:
            await self.conn.execute("UPDATE users SET level = ? WHERE user_id = ?", (level, user_id))
        if coins is not None:
            await self.conn.execute("UPDATE users SET coins = ? WHERE user_id = ?", (coins, user_id))
        await self.conn.commit()

    async def add_coins(self, user_id, amount):
        user = await self.get_user(user_id)
        await self.update_user(user_id, coins=user['coins'] + amount)
    
    async def add_xp(self, user_id, amount):
        user = await self.get_user(user_id)
        await self.update_user(user_id, xp=user['xp'] + amount)

    # üî• –¢–û–ü –ò–ì–†–û–ö–û–í
    async def get_top_users(self, limit=10):
        async with self.conn.execute("SELECT user_id, level, xp FROM users ORDER BY level DESC, xp DESC LIMIT ?", (limit,)) as cursor:
            return await cursor.fetchall()

    # --- –ò–ù–í–ï–ù–¢–ê–†–¨ ---
    async def add_item(self, user_id, item_id, amount=1):
        async with self.conn.execute("SELECT count FROM inventory WHERE user_id = ? AND item_id = ?", (user_id, item_id)) as cursor:
            result = await cursor.fetchone()
            if result:
                await self.conn.execute("UPDATE inventory SET count = ? WHERE user_id = ? AND item_id = ?", (result['count'] + amount, user_id, item_id))
            else:
                await self.conn.execute("INSERT INTO inventory (user_id, item_id, count) VALUES (?, ?, ?)", (user_id, item_id, amount))
            await self.conn.commit()

    async def remove_item(self, user_id, item_id, amount=1):
        async with self.conn.execute("SELECT count FROM inventory WHERE user_id = ? AND item_id = ?", (user_id, item_id)) as cursor:
            result = await cursor.fetchone()
            if not result or result['count'] < amount:
                return False
            
            new_count = result['count'] - amount
            if new_count > 0:
                await self.conn.execute("UPDATE inventory SET count = ? WHERE user_id = ? AND item_id = ?", (new_count, user_id, item_id))
            else:
                await self.conn.execute("DELETE FROM inventory WHERE user_id = ? AND item_id = ?", (user_id, item_id))
            await self.conn.commit()
            return True

    async def get_inventory(self, user_id):
        async with self.conn.execute("SELECT item_id, count FROM inventory WHERE user_id = ?", (user_id,)) as cursor:
            return await cursor.fetchall()

    # --- –î–†–£–ì–û–ï ---
    async def add_referral(self, inviter_id, new_user_id):
        user = await self.get_user(inviter_id)
        await self.conn.execute("UPDATE users SET invites = ? WHERE user_id = ?", (user['invites'] + 1, inviter_id))
        await self.conn.commit()
        return True

    async def add_warn(self, user_id, admin_id, reason):
        await self.conn.execute("INSERT INTO warns (user_id, admin_id, reason) VALUES (?, ?, ?)", (user_id, admin_id, reason))
        await self.conn.commit()

    async def get_warns(self, user_id):
        async with self.conn.execute("SELECT admin_id, reason, date FROM warns WHERE user_id = ?", (user_id,)) as cursor:
            return await cursor.fetchall()

    async def remove_warns(self, user_id):
        await self.conn.execute("DELETE FROM warns WHERE user_id = ?", (user_id,))
        await self.conn.commit()

    # --- –ò–í–ï–ù–¢–´ ---
    async def create_event(self, message_id, channel_id, reward, required):
        await self.conn.execute("INSERT INTO active_events VALUES (?, ?, ?, ?, ?)", (message_id, channel_id, reward, required, "[]"))
        await self.conn.commit()

    async def get_event(self, message_id):
        async with self.conn.execute("SELECT * FROM active_events WHERE message_id = ?", (message_id,)) as cursor:
            return await cursor.fetchone()

    async def update_event_users(self, message_id, users_list):
        users_json = json.dumps(users_list)
        await self.conn.execute("UPDATE active_events SET users_list = ? WHERE message_id = ?", (users_json, message_id))
        await self.conn.commit()

    async def delete_event(self, message_id):
        await self.conn.execute("DELETE FROM active_events WHERE message_id = ?", (message_id,))
        await self.conn.commit()

# –°–æ–∑–¥–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç, –Ω–æ –ù–ï –ø–æ–¥–∫–ª—é—á–∞–µ–º—Å—è —Å—Ä–∞–∑—É
db = Database()

==================================================
üìÇ –§–ê–ô–õ: .\history.txt
==================================================

==============================
–í–ï–†–°–ò–Ø: 1.5.2
–î–ê–¢–ê: 2026-01-15 01:58:30
–ê–í–¢–û–†: kpyc02
–ò–ó–ú–ï–ù–ï–ù–ò–Ø:
+ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –≤ welcome.py 
 * –£–±—Ä–∞–Ω–∞ –±–∏—Ç–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ –≤ –ø–∞–Ω–µ–ª–∏ —Ä–æ–ª–µ–π 
 + –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏–≤–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ history.txt
==============================

==============================
–í–ï–†–°–ò–Ø: 1.5.3
–î–ê–¢–ê: 2026-01-15 02:08:27
–ê–í–¢–û–†: kpyc02
–ò–ó–ú–ï–ù–ï–ù–ò–Ø:
+ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–¥–∏—Ä–æ–≤–∫–∞ config.py (UTF-8) 
 + –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∑–∞–ø—É—Å–∫ –º–æ–¥—É–ª–µ–π welcome.py –∏ changelog.py 
 + –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–∏—Å—Ç–µ–º—ã —Ç–≤–æ—Ä—á–µ—Å–∫–∏—Ö –∫–∞–Ω–∞–ª–æ–≤ –∏ –ø—Ä–∞–≤–∏–ª 
 * –£–±—Ä–∞–Ω–∞ –±–∏—Ç–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ –≤ –ø–∞–Ω–µ–ª–∏ —Ä–æ–ª–µ–π
==============================


==================================================
üìÇ –§–ê–ô–õ: .\main.py
==================================================
Ôªøimport discord
from discord.ext import commands
import config
import os
import asyncio
from database import db  # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–∞—à—É –Ω–æ–≤—É—é –ë–î

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–º–µ—Ä–µ–Ω–∏–π (Intents)
intents = discord.Intents.default()
intents.message_content = True
intents.members = True

class GameFunBot(commands.Bot):
    def __init__(self):
        super().__init__(
            command_prefix=config.PREFIX,
            intents=intents,
            help_command=None
        )

    async def setup_hook(self):
        """–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –î–û —Ç–æ–≥–æ, –∫–∞–∫ –±–æ—Ç –≤—ã–π–¥–µ—Ç –≤ –æ–Ω–ª–∞–π–Ω"""
        print("üîÑ --- –ó–ê–ì–†–£–ó–ö–ê –°–ò–°–¢–ï–ú ---")
        
        # 1. –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
        await db.connect()
        
        # 2. –°–∫–∞–Ω–∏—Ä—É–µ–º –ø–∞–ø–∫—É cogs
        print("üîÑ --- –ó–ê–ì–†–£–ó–ö–ê –ú–û–î–£–õ–ï–ô ---")
        for filename in os.listdir('./cogs'):
            if filename.endswith('.py'):
                try:
                    await self.load_extension(f'cogs.{filename[:-3]}')
                    print(f"‚úÖ –ú–æ–¥—É–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω: {filename}")
                except Exception as e:
                    print(f"‚ùå –û–®–ò–ë–ö–ê –≤ –º–æ–¥—É–ª–µ {filename}: {e}")
        print("---------------------------")

    async def close(self):
        """–ü—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏ –±–æ—Ç–∞ –∑–∞–∫—Ä—ã–≤–∞–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –ë–î"""
        await db.close()
        await super().close()

    async def on_ready(self):
        print(f'üöÄ –ë–æ—Ç {self.user} –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!')
        print(f'ID: {self.user.id}')
        await self.change_presence(activity=discord.Game(name="!help | GameFun"))

bot = GameFunBot()

if __name__ == "__main__":
    # [cite_start]–ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–∫–µ–Ω –∏–∑ config (–∫–æ—Ç–æ—Ä—ã–π —Ç–µ–ø–µ—Ä—å –±–µ—Ä–µ—Ç –µ–≥–æ –∏–∑ .env) [cite: 1]
    bot.run(config.TOKEN)

==================================================
üìÇ –§–ê–ô–õ: .\players.json
==================================================
{
    "179370708525252608": {
        "xp": 1456,
        "level": 3,
        "coins": 300
    },
    "1440081439877107735": {
        "179370708525252608": {
            "xp": 788,
            "lvl": 8,
            "coins": 0
        }
    },
    "444792127357059073": {
        "xp": 90,
        "level": 1,
        "coins": 0
    }
}

==================================================
üìÇ –§–ê–ô–õ: .\run.py
==================================================
import subprocess
import sys
import time

print("üöÄ –ó–ê–ü–£–°–ö –°–ò–°–¢–ï–ú–´ –ê–í–¢–û-–†–ï–°–¢–ê–†–¢–ê...")

while True:
    print("\nüîÑ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞...")

    # –ó–∞–ø—É—Å–∫–∞–µ–º main.py
    p = subprocess.Popen([sys.executable, "main.py"])
    p.wait()

    # –ï—Å–ª–∏ –±–æ—Ç —É–ø–∞–ª –∏–ª–∏ –≤—ã–∫–ª—é—á–∏–ª—Å—è
    print("‚ö†Ô∏è –ë–æ—Ç –≤—ã–∫–ª—é—á–∏–ª—Å—è! –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã...")
    time.sleep(3)

==================================================
üìÇ –§–ê–ô–õ: .\cogs\admin_system.py
==================================================
import discord
from discord.ext import commands
import sys
import os
import asyncio

# --- –ö–ù–û–ü–ö–ò –£–ü–†–ê–í–õ–ï–ù–ò–Ø ---
class AdminControlView(discord.ui.View):
    def __init__(self, bot):
        super().__init__(timeout=None)
        self.bot = bot

    @discord.ui.button(label="üíÄ –ü–û–õ–ù–´–ô –†–ï–°–¢–ê–†–¢", style=discord.ButtonStyle.danger, emoji="üîå", row=0)
    async def restart_btn(self, interaction: discord.Interaction, button: discord.ui.Button):
        if not interaction.user.guild_permissions.administrator:
            return await interaction.response.send_message("‚ùå –ù–µ —Ç—Ä–æ–≥–∞–π, —ç—Ç–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤!", ephemeral=True)

        await interaction.response.send_message("üîå **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º...**\n–ë–æ—Ç –≤–µ—Ä–Ω–µ—Ç—Å—è —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥!", ephemeral=False)
        print(f"[RESTART] –ö–æ–º–∞–Ω–¥—É –∑–∞–ø—Ä–æ—Å–∏–ª {interaction.user}")
        await asyncio.sleep(1)
        sys.exit(0) # Systemd —Å–∞–º –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç –±–æ—Ç–∞

    @discord.ui.button(label="‚ôªÔ∏è –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥", style=discord.ButtonStyle.primary, row=0)
    async def reload_btn(self, interaction: discord.Interaction, button: discord.ui.Button):
        if not interaction.user.guild_permissions.administrator: return

        await interaction.response.defer(ephemeral=True)
        log_text = ""
        error_count = 0
        success_count = 0

        # –ü–µ—Ä–µ–±–∏—Ä–∞–µ–º –≤—Å–µ —Ñ–∞–π–ª—ã
        for filename in os.listdir('./cogs'):
            if filename.endswith('.py'):
                extension_name = f'cogs.{filename[:-3]}'
                try:
                    await self.bot.reload_extension(extension_name)
                    success_count += 1
                except Exception as e:
                    error_count += 1
                    log_text += f"‚ùå **{filename}**: {e}\n"

        embed = discord.Embed(title="üìä –û—Ç—á–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è", color=0x00FF00 if error_count == 0 else 0xFF0000)
        embed.add_field(name="–£—Å–ø–µ—à–Ω–æ", value=f"‚úÖ {success_count}", inline=True)
        if error_count > 0:
            embed.add_field(name="–û—à–∏–±–∫–∏", value=f"üö´ {error_count}", inline=True)
            embed.description = log_text
        else:
            embed.description = "–í—Å–µ –º–æ–¥—É–ª–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–µ–Ω—ã!"
        
        await interaction.followup.send(embed=embed, ephemeral=True)

class AdminSystem(commands.Cog):
    def __init__(self, bot):
        self.bot = bot

    # --- –ì–õ–ê–í–ù–ê–Ø –ü–ê–ù–ï–õ–¨ ---
    @commands.command(name="panel")
    @commands.has_permissions(administrator=True)
    async def admin_panel(self, ctx):
        """–í—ã–∑—ã–≤–∞–µ—Ç –ø—É–ª—å—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–æ–º."""
        embed = discord.Embed(
            title="üõ°Ô∏è –¶–ï–ù–¢–† –£–ü–†–ê–í–õ–ï–ù–ò–Ø",
            description="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –±–æ—Ç–∞.",
            color=0x2b2d31
        )
        await ctx.send(embed=embed, view=AdminControlView(self.bot))

    # --- –†–£–ß–ù–ê–Ø –ü–ï–†–ï–ó–ê–ì–†–£–ó–ö–ê (–ò–ó admin.py) ---
    @commands.command(name="reload")
    @commands.is_owner()
    async def reload_module(self, ctx, extension):
        """–¢–æ—á–µ—á–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –æ–¥–Ω–æ–≥–æ –º–æ–¥—É–ª—è."""
        try:
            await self.bot.reload_extension(f"cogs.{extension}")
            await ctx.send(f"‚úÖ –ú–æ–¥—É–ª—å **{extension}** –æ–±–Ω–æ–≤–ª–µ–Ω!")
        except Exception as e:
            await ctx.send(f"‚ùå –û—à–∏–±–∫–∞: `{e}`")

    # --- –°–ü–ò–°–û–ö –ú–û–î–£–õ–ï–ô (–ò–ó admin.py) ---
    @commands.command(name="cogs")
    @commands.is_owner()
    async def list_cogs(self, ctx):
        loaded = "\n".join([f"üß© {ext}" for ext in self.bot.extensions.keys()])
        await ctx.send(f"**–ê–∫—Ç–∏–≤–Ω—ã–µ –º–æ–¥—É–ª–∏:**\n```\n{loaded}\n```")

async def setup(bot):
    await bot.add_cog(AdminSystem(bot))

==================================================
üìÇ –§–ê–ô–õ: .\cogs\ai_tools.py
==================================================
import discord
from discord.ext import commands
import asyncio

# --- –û–ö–ù–û –î–õ–Ø –û–¢–ü–†–ê–í–ö–ò –†–ï–ü–û–†–¢–ê ---
class ReportModal(discord.ui.Modal, title="–û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–ø–æ—Ä—Ç–∞ / –∂–∞–ª–æ–±—ã"):
    subject = discord.ui.TextInput(
        label="–¢–µ–º–∞", 
        placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ë–∞–≥ –≤ —ç–∫–æ–Ω–æ–º–∏–∫–µ –∏–ª–∏ –∂–∞–ª–æ–±–∞ –Ω–∞ –∏–≥—Ä–æ–∫–∞",
        min_length=5, max_length=100
    )
    description = discord.ui.TextInput(
        label="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ",
        style=discord.TextStyle.paragraph,
        placeholder="–û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É –∫–∞–∫ –º–æ–∂–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–µ–µ...",
        min_length=10, max_length=1000
    )

    async def on_submit(self, interaction: discord.Interaction):
        # –ò—â–µ–º –∫–∞–Ω–∞–ª –¥–ª—è —Å—Ç–∞—Ñ—Ñ–∞ (üö®-reports)
        report_log = discord.utils.get(interaction.guild.text_channels, name="üö®-reports")
        
        if not report_log:
            return await interaction.response.send_message("‚ùå –û—à–∏–±–∫–∞: –ö–∞–Ω–∞–ª –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω.", ephemeral=True)

        embed = discord.Embed(
            title="üö® –ù–û–í–´–ô –†–ï–ü–û–†–¢",
            color=discord.Color.red(),
            timestamp=interaction.created_at
        )
        embed.add_field(name="–û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å:", value=f"{interaction.user.mention} (ID: `{interaction.user.id}`)")
        embed.add_field(name="–¢–µ–º–∞:", value=self.subject.value, inline=False)
        embed.add_field(name="–û–ø–∏—Å–∞–Ω–∏–µ:", value=self.description.value, inline=False)
        
        await report_log.send(embed=embed)
        await interaction.response.send_message("‚úÖ –í–∞—à —Ä–µ–ø–æ—Ä—Ç —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞!", ephemeral=True)

# --- –ü–ê–ù–ï–õ–¨ –†–ï–ü–û–†–¢–û–í ---
class ReportPanelView(discord.ui.View):
    def __init__(self):
        super().__init__(timeout=None)

    @discord.ui.button(label="–ù–∞–ø–∏—Å–∞—Ç—å —Ä–µ–ø–æ—Ä—Ç", emoji="üõ†Ô∏è", style=discord.ButtonStyle.danger, custom_id="send_report_btn")
    async def send_report(self, interaction: discord.Interaction, button: discord.ui.Button):
        await interaction.response.send_modal(ReportModal())

# --- –ü–ê–ù–ï–õ–¨ –ü–û–ú–û–©–ù–ò–ö–ê (FAQ) ---
class HelperPanelView(discord.ui.View):
    def __init__(self):
        super().__init__(timeout=None)

    @discord.ui.button(label="–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ä–æ–ª—å?", emoji="üé≠", style=discord.ButtonStyle.blurple)
    async def roles_help(self, interaction: discord.Interaction, button: discord.ui.Button):
        await interaction.response.send_message(
            "–ß—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å –∏–≥—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ç–µ–±—è –∏–Ω—Ç–µ—Ä–µ—Å—É—é—Ç, –ø–µ—Ä–µ–π–¥–∏ –≤ –∫–∞–Ω–∞–ª <#üé≠-choose-your-interest> –∏ –Ω–∞–∂–º–∏ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–Ω–æ–ø–∫–∏!", 
            ephemeral=True
        )

    @discord.ui.button(label="–õ–∏—á–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞", emoji="üè∞", style=discord.ButtonStyle.gray)
    async def room_help(self, interaction: discord.Interaction, button: discord.ui.Button):
        await interaction.response.send_message(
            "–ì–æ–ª–æ—Å–æ–≤–æ–π –∫–∞–Ω–∞–ª: –ó–∞–π–¥–∏ –≤ **'üîä ‚ûï –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É'**.\n–¢–µ–∫—Å—Ç–æ–≤–∞—è –±–∞–∑–∞: –ù–∞–ø–∏—à–∏ `!textpanel` –≤ –∫–∞–Ω–∞–ª–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.", 
            ephemeral=True
        )

    @discord.ui.button(label="–°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥", emoji="üìò", style=discord.ButtonStyle.success)
    async def commands_help(self, interaction: discord.Interaction, button: discord.ui.Button):
        await interaction.response.send_message(
            "–ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–∞–Ω–¥—É `!help`, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞.", 
            ephemeral=True
        )

class AiTools(commands.Cog):
    def __init__(self, bot):
        self.bot = bot

    @commands.command()
    @commands.has_permissions(administrator=True)
    async def setup_tools(self, ctx):
        """–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–Ω–µ–ª–µ–π –≤ –Ω—É–∂–Ω—ã–µ –∫–∞–Ω–∞–ª—ã."""
        # 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ü–æ–º–æ—â–Ω–∏–∫–∞
        helper_ch = discord.utils.get(ctx.guild.text_channels, name="ü§ñ-–±–æ—Ç-–ø–æ–º–æ—â–Ω–∏–∫")
        if helper_ch:
            embed_h = discord.Embed(
                title="ü§ñ –¶–µ–Ω—Ç—Ä –ø–æ–¥–¥–µ—Ä–∂–∫–∏ GameFun",
                description="–ü—Ä–∏–≤–µ—Ç! –Ø —Ç–≤–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–º–æ—â–Ω–∏–∫. –ù–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, –µ—Å–ª–∏ —É —Ç–µ–±—è –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å.",
                color=discord.Color.blue()
            )
            await helper_ch.send(embed=embed_h, view=HelperPanelView())

        # 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –†–µ–ø–æ—Ä—Ç–æ–≤
        report_ch = discord.utils.get(ctx.guild.text_channels, name="üõ†Ô∏è-—Ä–µ–ø–æ—Ä—Ç—ã")
        if report_ch:
            embed_r = discord.Embed(
                title="üõ†Ô∏è –°–∏—Å—Ç–µ–º–∞ —Ä–µ–ø–æ—Ä—Ç–æ–≤ –∏ –±–∞–≥–æ–≤",
                description=(
                    "–ù–∞—à–ª–∏ –æ—à–∏–±–∫—É –≤ —Ä–∞–±–æ—Ç–µ –±–æ—Ç–∞? –ò–ª–∏ –∫—Ç–æ-—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–∞?\n"
                    "–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∂–∞–ª–æ–±—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞."
                ),
                color=discord.Color.red()
            )
            await report_ch.send(embed=embed_r, view=ReportPanelView())
        
        await ctx.send("‚úÖ –ü–∞–Ω–µ–ª–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ AI & Tools —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!")

async def setup(bot):
    await bot.add_cog(AiTools(bot))

==================================================
üìÇ –§–ê–ô–õ: .\cogs\backup.py
==================================================
import discord
from discord.ext import commands, tasks
import shutil
import os
import datetime

class Backup(commands.Cog):
    def __init__(self, bot):
        self.bot = bot
        self.backup_loop.start()

    def cog_unload(self):
        self.backup_loop.cancel()

    @tasks.loop(hours=6) # –î–µ–ª–∞–µ–º –∫–æ–ø–∏—é –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
    async def backup_loop(self):
        await self.bot.wait_until_ready()
        
        # –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É, –µ—Å–ª–∏ –Ω–µ—Ç
        if not os.path.exists("./backups"):
            os.makedirs("./backups")

        # –ò–º—è —Ñ–∞–π–ª–∞ —Å –¥–∞—Ç–æ–π: database_2026-01-22_15-30.db
        timestamp = datetime.datetime.now().strftime("%Y-%m-%d_%H-%M")
        src = "database.db"
        dst = f"./backups/database_{timestamp}.db"

        try:
            shutil.copy(src, dst)
            print(f"[Backup] ‚úÖ –ë–∞–∑–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞: {dst}")
            
            # –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö (–æ—Å—Ç–∞–≤–ª—è–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10)
            files = sorted(os.listdir("./backups"))
            if len(files) > 10:
                os.remove(f"./backups/{files[0]}") # –£–¥–∞–ª—è–µ–º —Å–∞–º—ã–π —Å—Ç–∞—Ä—ã–π
                print("[Backup] üóëÔ∏è –°—Ç–∞—Ä—ã–π –±—ç–∫–∞–ø —É–¥–∞–ª–µ–Ω.")
                
        except Exception as e:
            print(f"[Backup] ‚ùå –û—à–∏–±–∫–∞: {e}")

    @commands.command(name="forcebackup")
    @commands.has_permissions(administrator=True)
    async def force_backup(self, ctx):
        """–°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å."""
        await self.backup_loop()
        await ctx.send("‚úÖ –ë—ç–∫–∞–ø —Å–æ–∑–¥–∞–Ω –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ!")

async def setup(bot):
    await bot.add_cog(Backup(bot))

==================================================
üìÇ –§–ê–ô–õ: .\cogs\changelog.py
==================================================
import discord
from discord.ext import commands
from datetime import datetime

class Changelog(commands.Cog):
    def __init__(self, bot):
        self.bot = bot

    @commands.command(name="upd")
    @commands.has_permissions(administrator=True)
    async def update(self, ctx, version: str, *, details: str):
        news_ch = discord.utils.get(ctx.guild.text_channels, name="üì¢-announcements")
        if not news_ch: return
        
        # –í—ã–Ω–æ—Å–∏–º –∑–∞–º–µ–Ω—É —Å–∏–º–≤–æ–ª–∞ –∏–∑ f-—Å—Ç—Ä–æ–∫–∏
        fmt_text = details.replace('|', '\n')
        
        embed = discord.Embed(title=f"üöÄ –û–ë–ù–û–í–õ–ï–ù–ò–ï {version}", description=fmt_text, color=0x00FF7F)
        await news_ch.send("@everyone", embed=embed)
        await ctx.message.delete()

async def setup(bot):
    await bot.add_cog(Changelog(bot))

==================================================
üìÇ –§–ê–ô–õ: .\cogs\creative_corner.py
==================================================
import discord
from discord.ext import commands
import config  # –ë–µ—Ä–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞

class CreativeCorner(commands.Cog):
    def __init__(self, bot):
        self.bot = bot

    @commands.Cog.listener()
    async def on_message(self, message):
        if message.author.bot:
            return

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å–æ–≤–ø–∞–¥–∞–µ—Ç –ª–∏ –∏–º—è –∫–∞–Ω–∞–ª–∞ –∏–ª–∏ –µ–≥–æ ID —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
        is_creative_name = message.channel.name in config.CREATIVE_CHANNELS_NAMES
        is_creative_id = message.channel.id in config.CREATIVE_CHANNELS_IDS
        
        if is_creative_name or is_creative_id:
            if message.attachments or "http" in message.content:
                try:
                    await message.add_reaction("‚ù§Ô∏è")
                    await message.add_reaction("üî•")
                    await message.add_reaction("‚≠ê")
                except discord.Forbidden:
                    pass 
                except Exception as e:
                    print(f"[Creative] –û—à–∏–±–∫–∞ —Ä–µ–∞–∫—Ü–∏–∏: {e}")

async def setup(bot):
    await bot.add_cog(CreativeCorner(bot))

==================================================
üìÇ –§–ê–ô–õ: .\cogs\debug_roles.py
==================================================
import discord
from discord.ext import commands

class DebugRoles(commands.Cog):
    def __init__(self, bot):
        self.bot = bot

    @commands.command()
    @commands.has_permissions(administrator=True)
    async def checkroles(self, ctx):
        """–í—ã–≤–æ–¥–∏—Ç —Ç–æ—á–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Ä–æ–ª–µ–π –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏."""
        text = "üìã **–¢–û–ß–ù–´–ï –ù–ê–ó–í–ê–ù–ò–Ø –†–û–õ–ï–ô (–°–∫–æ–ø–∏—Ä—É–π –≤ –∫–æ–¥):**\n\n"
        
        for role in ctx.guild.roles:
            if role.name == "@everyone": continue
            # –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –≥–æ—Ç–æ–≤—ã–π –∫–æ–¥ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
            text += f'`"role_name": "{role.name}",`\n'

        # –†–∞–∑–±–∏–≤–∞–µ–º, –µ—Å–ª–∏ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ
        if len(text) > 2000:
            part1 = text[:1900]
            part2 = text[1900:]
            await ctx.send(part1)
            await ctx.send(part2)
        else:
            await ctx.send(text)

async def setup(bot):
    await bot.add_cog(DebugRoles(bot))

==================================================
üìÇ –§–ê–ô–õ: .\cogs\game.py
==================================================
Ôªøfrom discord.ext import commands
import discord
from database import db

class Game(commands.Cog):
    def __init__(self, bot):
        self.bot = bot

    @commands.command()
    async def profile(self, ctx):
        # üî• –î–æ–±–∞–≤–ª–µ–Ω await
        user = await db.get_user(ctx.author.id)
        embed = discord.Embed(
            title=f"–ü—Ä–æ—Ñ–∏–ª—å {ctx.author.display_name}",
            color=discord.Color.gold()
        )
        embed.add_field(name="–£—Ä–æ–≤–µ–Ω—å", value=user["level"])
        embed.add_field(name="XP", value=user["xp"])
        embed.add_field(name="–ú–æ–Ω–µ—Ç—ã", value=user["coins"])
        await ctx.send(embed=embed)

    @commands.command()
    async def farm(self, ctx):
        # üî• –î–æ–±–∞–≤–ª–µ–Ω—ã await
        await db.add_xp(ctx.author.id, 10)
        await db.add_coins(ctx.author.id, 5)
        await ctx.send(f"{ctx.author.mention} –ø–æ–ª—É—á–∏–ª 10 XP –∏ 5 –º–æ–Ω–µ—Ç.")

async def setup(bot):
    await bot.add_cog(Game(bot))

==================================================
üìÇ –§–ê–ô–õ: .\cogs\game_rooms.py
==================================================
Ôªøimport discord
from discord.ext import commands
import asyncio

# --- 1. –ú–ï–ù–Æ –î–õ–Ø –î–û–ë–ê–í–õ–ï–ù–ò–Ø ---
class AddUserSelectView(discord.ui.View):
    def __init__(self, channel):
        super().__init__(timeout=60)
        self.channel = channel

    @discord.ui.select(cls=discord.ui.UserSelect, placeholder="üîç –í—ã–±–µ—Ä–∏ –¥—Ä—É–≥–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è...", min_values=1, max_values=1)
async def callback(self, interaction: discord.Interaction):
        guild = interaction.guild
        user = interaction.user
        
        # --- üõ°Ô∏è –ü–†–û–í–ï–†–ö–ê –õ–ò–ú–ò–¢–û–í (–ù–û–í–û–ï) ---
        category = discord.utils.get(guild.categories, name="üéÆ –ò–≥—Ä–æ–≤—ã–µ –ú–∏—Ä—ã")
        
        if category:
            # –°—á–∏—Ç–∞–µ–º, —Å–∫–æ–ª—å–∫–æ –∫–∞–Ω–∞–ª–æ–≤ —É–∂–µ —Å–æ–∑–¥–∞–ª —ç—Ç–æ—Ç —é–∑–µ—Ä
            # –ò—â–µ–º –∫–∞–Ω–∞–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å "üîí‚îÉ–±–∞–∑–∞-" –∏ –≥–¥–µ —é–∑–µ—Ä –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            user_rooms = 0
            for channel in category.text_channels:
                if channel.permissions_for(user).manage_channels and channel.name.startswith("üîí‚îÉ–±–∞–∑–∞-"):
                    user_rooms += 1
            
            if user_rooms >= 1: # –õ–ò–ú–ò–¢: 1 –∫–æ–º–Ω–∞—Ç–∞ –Ω–∞ —á–µ–ª–æ–≤–µ–∫–∞
                return await interaction.response.send_message(
                    "‚ùå **–õ–∏–º–∏—Ç –¥–æ—Å—Ç–∏–≥–Ω—É—Ç!**\n–£ —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–∞—è –±–∞–∑–∞. –£–¥–∞–ª–∏ —Å—Ç–∞—Ä—É—é, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é.", 
                    ephemeral=True
                )
        # -----------------------------------

        if not category:
            category = await guild.create_category("üéÆ –ò–≥—Ä–æ–≤—ã–µ –ú–∏—Ä—ã")

        overwrites = {
            guild.default_role: discord.PermissionOverwrite(view_channel=False),
            user: discord.PermissionOverwrite(view_channel=True, send_messages=True, manage_channels=True, manage_messages=True),
            guild.me: discord.PermissionOverwrite(view_channel=True, manage_channels=True)
        }

        channel_name = f"üîí‚îÉ–±–∞–∑–∞-{user.display_name}"
        channel = await category.create_text_channel(name=channel_name, overwrites=overwrites)

        await interaction.response.send_message(f"‚úÖ –ö–æ–º–Ω–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∞: {channel.mention}", ephemeral=True)

        embed = discord.Embed(
            title=f"–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: {user.display_name}",
            description="**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º:**\n–ò—Å–ø–æ–ª—å–∑—É–π –∫–Ω–æ–ø–∫–∏ –Ω–∏–∂–µ, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –∏–ª–∏ –≤—ã–≥–Ω–∞—Ç—å –¥—Ä—É–∑–µ–π.",
            color=0x2ECC71
        )
        await channel.send(f"{user.mention}, —Ç–≤–æ—è –∫–æ–º–Ω–∞—Ç–∞ –≥–æ—Ç–æ–≤–∞!", embed=embed, view=RoomControlsView(user.id))

# --- 2. –ú–ï–ù–Æ –î–õ–Ø –ö–ò–ö–ê (–ù–û–í–û–ï) ---
class KickUserSelectView(discord.ui.View):
    def __init__(self, channel):
        super().__init__(timeout=60)
        self.channel = channel

    @discord.ui.select(cls=discord.ui.UserSelect, placeholder="üö´ –í—ã–±–µ—Ä–∏, –∫–æ–≥–æ –≤—ã–≥–Ω–∞—Ç—å...", min_values=1, max_values=1)
    async def select_callback(self, interaction: discord.Interaction, select: discord.ui.UserSelect):
        member = select.values[0]
        
        # –ó–∞—â–∏—Ç–∞ –æ—Ç –≤—ã—Å—Ç—Ä–µ–ª–∞ —Å–µ–±–µ –≤ –Ω–æ–≥—É (–Ω–µ–ª—å–∑—è –∫–∏–∫–Ω—É—Ç—å —Å–∞–º–æ–≥–æ —Å–µ–±—è)
        if member.id == interaction.user.id:
            return await interaction.response.send_message("‚ùå –ù–µ–ª—å–∑—è –≤—ã–≥–Ω–∞—Ç—å —Å–∞–º–æ–≥–æ —Å–µ–±—è!", ephemeral=True)

        # –°–Ω–∏–º–∞–µ–º –ø—Ä–∞–≤–∞ (overwrite=None —É–¥–∞–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —é–∑–µ—Ä–∞)
        await self.channel.set_permissions(member, overwrite=None)
        await interaction.response.edit_message(content=f"üëã **{member.display_name}** —É–¥–∞–ª–µ–Ω –∏–∑ –∫–æ–º–Ω–∞—Ç—ã.", view=None)

# --- 3. –ú–û–î–ê–õ–ö–ê –¢–û–õ–¨–ö–û –î–õ–Ø –ü–ï–†–ï–ò–ú–ï–ù–û–í–ê–ù–ò–Ø ---
class RenameTextRoomModal(discord.ui.Modal, title="–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É"):
    name_input = discord.ui.TextInput(
        label="–ù–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
        placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–µ–∫—Ä–µ—Ç–Ω—ã–π –±—É–Ω–∫–µ—Ä",
        min_length=2,
        max_length=30
    )

    async def on_submit(self, interaction: discord.Interaction):
        new_name = f"üîí‚îÉ{self.name_input.value}"
        await interaction.channel.edit(name=new_name)
        await interaction.response.send_message(f"‚úÖ –ö–æ–º–Ω–∞—Ç–∞ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∞ –≤ **{new_name}**", ephemeral=True)

# --- 4. –ì–õ–ê–í–ù–´–ô –ü–£–õ–¨–¢ –£–ü–†–ê–í–õ–ï–ù–ò–Ø ---
class RoomControlsView(discord.ui.View):
    def __init__(self, owner_id):
        super().__init__(timeout=None)
        self.owner_id = owner_id

    async def interaction_check(self, interaction: discord.Interaction) -> bool:
        # –ü—Ä–æ–≤–µ—Ä–∫–∞: –Ω–∞–∂–∏–º–∞—Ç—å –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –∏–ª–∏ –∞–¥–º–∏–Ω
        if interaction.user.id != self.owner_id and not interaction.user.guild_permissions.administrator:
            await interaction.response.send_message("‚ùå –í—ã –Ω–µ –≤–ª–∞–¥–µ–ª–µ—Ü —ç—Ç–æ–π –∫–æ–º–Ω–∞—Ç—ã!", ephemeral=True)
            return False
        return True

    @discord.ui.button(label="–î–æ–±–∞–≤–∏—Ç—å", emoji="‚ûï", style=discord.ButtonStyle.blurple, row=0)
    async def add_user(self, interaction: discord.Interaction, button: discord.ui.Button):
        # –û—Ç–∫—Ä—ã–≤–∞–µ–º –º–µ–Ω—é –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
        view = AddUserSelectView(interaction.channel)
        await interaction.response.send_message("üëá **–í—ã–±–µ—Ä–∏—Ç–µ, –∫–æ–≥–æ –¥–æ–±–∞–≤–∏—Ç—å:**", view=view, ephemeral=True)

    @discord.ui.button(label="–ö–∏–∫–Ω—É—Ç—å", emoji="üö´", style=discord.ButtonStyle.gray, row=0)
    async def kick_user(self, interaction: discord.Interaction, button: discord.ui.Button):
        # –û—Ç–∫—Ä—ã–≤–∞–µ–º –º–µ–Ω—é –∫–∏–∫–∞
        view = KickUserSelectView(interaction.channel)
        await interaction.response.send_message("üëá **–í—ã–±–µ—Ä–∏—Ç–µ, –∫–æ–≥–æ –≤—ã–≥–Ω–∞—Ç—å:**", view=view, ephemeral=True)

    @discord.ui.button(label="–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å", emoji="‚úèÔ∏è", style=discord.ButtonStyle.secondary, row=1)
    async def rename_room(self, interaction: discord.Interaction, button: discord.ui.Button):
        await interaction.response.send_modal(RenameTextRoomModal())

    @discord.ui.button(label="–£–¥–∞–ª–∏—Ç—å –∫–æ–º–Ω–∞—Ç—É", emoji="üóëÔ∏è", style=discord.ButtonStyle.red, row=1)
    async def delete_room(self, interaction: discord.Interaction, button: discord.ui.Button):
        await interaction.response.send_message("üß® –ö–æ–º–Ω–∞—Ç–∞ –±—É–¥–µ—Ç —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∞ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã...", ephemeral=True)
        await asyncio.sleep(3)
        await interaction.channel.delete()

# --- 5. –ö–ù–û–ü–ö–ê –°–û–ó–î–ê–ù–ò–Ø (–ó–ï–õ–ï–ù–ê–Ø) ---
class CreateTextRoomButton(discord.ui.Button):
    def __init__(self):
        super().__init__(
            label="–°–æ–∑–¥–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—É—é –±–∞–∑—É",
            emoji="üìù",
            style=discord.ButtonStyle.green,
            custom_id="create_text_room"
        )

    async def callback(self, interaction: discord.Interaction):
        guild = interaction.guild
        user = interaction.user
        
        category = discord.utils.get(guild.categories, name="üéÆ –ò–≥—Ä–æ–≤—ã–µ –ú–∏—Ä—ã")
        if not category:
            category = await guild.create_category("üéÆ –ò–≥—Ä–æ–≤—ã–µ –ú–∏—Ä—ã")

        # –ü—Ä–∞–≤–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏: —Ç–æ–ª—å–∫–æ –±–æ—Ç –∏ —Å–æ–∑–¥–∞—Ç–µ–ª—å
        overwrites = {
            guild.default_role: discord.PermissionOverwrite(view_channel=False),
            user: discord.PermissionOverwrite(view_channel=True, send_messages=True, manage_channels=True, manage_messages=True),
            guild.me: discord.PermissionOverwrite(view_channel=True, manage_channels=True)
        }

        channel_name = f"üîí‚îÉ–±–∞–∑–∞-{user.display_name}"
        channel = await category.create_text_channel(name=channel_name, overwrites=overwrites)

        await interaction.response.send_message(f"‚úÖ –ö–æ–º–Ω–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∞: {channel.mention}", ephemeral=True)

        embed = discord.Embed(
            title=f"–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: {user.display_name}",
            description="**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º:**\n–ò—Å–ø–æ–ª—å–∑—É–π –∫–Ω–æ–ø–∫–∏ –Ω–∏–∂–µ, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –∏–ª–∏ –≤—ã–≥–Ω–∞—Ç—å –¥—Ä—É–∑–µ–π.",
            color=0x2ECC71
        )
        await channel.send(f"{user.mention}, —Ç–≤–æ—è –∫–æ–º–Ω–∞—Ç–∞ –≥–æ—Ç–æ–≤–∞!", embed=embed, view=RoomControlsView(user.id))

class GameRoomView(discord.ui.View):
    def __init__(self):
        super().__init__(timeout=None)
        self.add_item(CreateTextRoomButton())

class GameRooms(commands.Cog):
    def __init__(self, bot):
        self.bot = bot

    @commands.command()
    @commands.has_permissions(administrator=True)
    async def textpanel(self, ctx):
        embed = discord.Embed(
            title="üîí –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –¢–µ–∫—Å—Ç–æ–≤—ã–µ –ö–æ–º–Ω–∞—Ç—ã",
            description="–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–π –ª–∏—á–Ω—ã–π –∑–∞–∫—Ä—ã—Ç—ã–π —á–∞—Ç.",
            color=0x2ECC71
        )
        await ctx.send(embed=embed, view=GameRoomView())

async def setup(bot):
    await bot.add_cog(GameRooms(bot))

==================================================
üìÇ –§–ê–ô–õ: .\cogs\help.py
==================================================
Ôªøimport discord
from discord.ext import commands

class HelpCommand(commands.Cog):
    def __init__(self, bot):
        self.bot = bot

    @commands.command(name="help")
    async def help_command(self, ctx):
        # –¶–≤–µ—Ç–∞
        MAIN_COLOR = 0x00AAFF
        ADMIN_COLOR = 0xFF0000

        # --- 1. –ó–ê–ì–û–õ–û–í–û–ö ---
        embed_header = discord.Embed(
            title="üìò –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ö–æ–º–∞–Ω–¥",
            description="# üëá –°–ü–ò–°–û–ö –ö–û–ú–ê–ù–î",
            color=MAIN_COLOR
        )
        if self.bot.user.avatar:
            embed_header.set_thumbnail(url=self.bot.user.avatar.url)
        await ctx.send(embed=embed_header)

        # --- 2. –≠–ö–û–ù–û–ú–ò–ö–ê ---
        embed_eco = discord.Embed(
            description=(
                "## üë§ `!profile`\n"
                "### üìÑ –¢–≤–æ–π —É—Ä–æ–≤–µ–Ω—å, –æ–ø—ã—Ç –∏ –±–∞–ª–∞–Ω—Å –º–æ–Ω–µ—Ç.\n\n"
                "## ‚ú® `!myxp`\n"
                "### üìä –¢–æ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø—ã—Ç–∞ –¥–æ —É—Ä–æ–≤–Ω—è.\n\n"
                "## üí∞ `!farm`\n"
                "### üí∏ –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –Ω–∞–≥—Ä–∞–¥–∞ (XP + –î–µ–Ω—å–≥–∏)."
            ),
            color=MAIN_COLOR
        )
        await ctx.send(embed=embed_eco)

        # --- 3. –ö–û–ú–ù–ê–¢–´ ---
        embed_rooms = discord.Embed(
            description=(
                "# üè∞ –õ–ò–ß–ù–ê–Ø –ö–û–ú–ù–ê–¢–ê\n"
                "*(–¢–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∫–∞–Ω–∞–ª–∞)*\n\n"
                "## üîí `!lock`\n"
                "### ‚õî –ó–∞–∫—Ä—ã—Ç—å –¥–æ—Å—Ç—É–ø (–Ω–∏–∫—Ç–æ –Ω–µ –≤–æ–π–¥–µ—Ç).\n\n"
                "## üîì `!unlock`\n"
                "### ‚úÖ –û—Ç–∫—Ä—ã—Ç—å –∫–æ–º–Ω–∞—Ç—É –¥–ª—è –≤—Å–µ—Ö."
            ),
            color=MAIN_COLOR
        )
        await ctx.send(embed=embed_rooms)

        # --- 4. –ü–û–õ–ï–ó–ù–û–ï ---
        embed_misc = discord.Embed(
            description=(
                "# üéà –ü–†–û–ß–ï–ï\n\n"
                "## ‚úâÔ∏è `!myinvite`\n"
                "### üîó –°–æ–∑–¥–∞—Ç—å —Ç–≤–æ—é —Å—Å—ã–ª–∫—É-–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ."
            ),
            color=MAIN_COLOR
        )
        embed_misc.set_footer(text=f"–ó–∞–ø—Ä–æ—Å–∏–ª: {ctx.author.display_name}")
        await ctx.send(embed=embed_misc)

        # --- 5. –ê–î–ú–ò–ù–ö–ê ---
        if ctx.author.guild_permissions.administrator:
            embed_admin = discord.Embed(
                title="üõ°Ô∏è –ê–î–ú–ò–ù-–ü–ê–ù–ï–õ–¨",
                description=(
                    "## ‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ê\n"
                    "### `!setupserver` ‚Äî –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–∞–Ω–∞–ª–æ–≤\n"
                    "### `!textpanel` ‚Äî –ö–Ω–æ–ø–∫–∞ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –±–∞–∑\n"
                    "### `!rolespanel` ‚Äî –ú–µ–Ω—é —Ä–æ–ª–µ–π\n"
                    "### `!setup_tools` ‚Äî –†–µ–ø–æ—Ä—Ç—ã\n\n"
                    "## üõ†Ô∏è –£–ü–†–ê–í–õ–ï–ù–ò–ï\n"
                    "### `!clear` ‚Äî –û—á–∏—Å—Ç–∫–∞ —á–∞—Ç–∞\n"
                    "### `!announce` ‚Äî –û–±—ä—è–≤–ª–µ–Ω–∏–µ\n"
                    "### `!upd` ‚Äî –ü–∞—Ç—á–Ω–æ—É—Ç\n"
                    "### `!reloadall` ‚Äî –†–µ—Å—Ç–∞—Ä—Ç –±–æ—Ç–∞"
                ),
                color=ADMIN_COLOR
            )
            await ctx.send(embed=embed_admin)

async def setup(bot):
    await bot.add_cog(HelpCommand(bot))

==================================================
üìÇ –§–ê–ô–õ: .\cogs\invites.py
==================================================
import discord
from discord.ext import commands
import config
from database import db

class Invites(commands.Cog):
    def __init__(self, bot):
        self.bot = bot
        self.invites_cache = {}

    @commands.Cog.listener()
    async def on_ready(self):
        for guild in self.bot.guilds:
            try:
                self.invites_cache[guild.id] = {i.code: i.uses for i in await guild.invites()}
            except:
                continue

    @commands.command()
    async def myinvite(self, ctx):
        """–°–æ–∑–¥–∞–µ—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É."""
        guild = ctx.guild
        existing_invites = await guild.invites()
        
        # –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞—Ä–∞–Ω–µ–µ
        user_data = await db.get_user(ctx.author.id)
        
        for invite in existing_invites:
            if invite.inviter == ctx.author and not invite.temporary:
                return await ctx.send(f"‚úâÔ∏è –¢–≤–æ—è —Å—Å—ã–ª–∫–∞: {invite.url}\n–ü—Ä–∏–≥–ª–∞—à–µ–Ω–æ: **{user_data['invites']}** —á–µ–ª.")

        channel = guild.get_channel(config.WELCOME_CHANNEL) or ctx.channel
        new_invite = await channel.create_invite(reason=f"–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ –¥–ª—è {ctx.author}", max_age=0)
        
        self.invites_cache[guild.id][new_invite.code] = new_invite.uses
        await ctx.send(f"‚úÖ –¢–≤–æ—è –Ω–æ–≤–∞—è —Å—Å—ã–ª–∫–∞: {new_invite.url}\n–¢–µ–ø–µ—Ä—å —Ç—ã –º–æ–∂–µ—à—å –ø—Ä–∏–≥–ª–∞—à–∞—Ç—å –¥—Ä—É–∑–µ–π!")

    @commands.Cog.listener()
    async def on_member_join(self, member):
        guild = member.guild
        if guild.id not in self.invites_cache: return

        new_invites = await guild.invites()
        old_invites = self.invites_cache[guild.id]

        inviter = None
        for invite in new_invites:
            if invite.code in old_invites and invite.uses > old_invites[invite.code]:
                inviter = invite.inviter
                self.invites_cache[guild.id][invite.code] = invite.uses
                break
        
        if inviter and not inviter.bot:
            # üî• await —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–µ—Ñ–µ—Ä–∞–ª–∞
            success = await db.add_referral(inviter.id, member.id)
            if success:
                await db.add_coins(inviter.id, 50) 
                log_channel = guild.get_channel(config.LOG_CHANNEL)
                if log_channel:
                    await log_channel.send(f"üìà **{inviter}** –ø—Ä–∏–≥–ª–∞—Å–∏–ª **{member}**. –ù–∞—á–∏—Å–ª–µ–Ω–æ 50 –º–æ–Ω–µ—Ç!")

async def setup(bot):
    await bot.add_cog(Invites(bot))

==================================================
üìÇ –§–ê–ô–õ: .\cogs\levels.py
==================================================
Ôªøimport discord
from discord.ext import commands
from database import db
import random

class Levels(commands.Cog):
    def __init__(self, bot):
        self.bot = bot
        self._cd = commands.CooldownMapping.from_cooldown(1, 60, commands.BucketType.member) 

    def get_ratelimit(self, message: discord.Message):
        bucket = self._cd.get_bucket(message)
        return bucket.update_rate_limit()

    @commands.Cog.listener()
    async def on_message(self, message):
        if message.author.bot: return
        if self.get_ratelimit(message): return 

        xp_gain = random.randint(5, 15)
        
        # üî• await –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
        user_data = await db.get_user(message.author.id)
        
        current_xp = user_data['xp'] + xp_gain
        current_level = user_data['level']
        xp_needed = current_level * 100

        if current_xp >= xp_needed:
            current_xp -= xp_needed
            current_level += 1
            
            # üî• await –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
            await db.update_user(message.author.id, xp=current_xp, level=current_level)
            
            embed = discord.Embed(
                title="üéâ –ü–û–í–´–®–ï–ù–ò–ï –£–†–û–í–ù–Ø!",
                description=f"{message.author.mention}, —Ç—ã –¥–æ—Å—Ç–∏–≥ **{current_level}-–≥–æ —É—Ä–æ–≤–Ω—è**! üöÄ",
                color=discord.Color.gold()
            )
            reward = current_level * 50
            await db.add_coins(message.author.id, reward)
            embed.set_footer(text=f"–ë–æ–Ω—É—Å: +{reward} –º–æ–Ω–µ—Ç")
            
            await message.channel.send(embed=embed)
        else:
            await db.update_user(message.author.id, xp=current_xp)

    @commands.command(name="rank", aliases=["lvl", "level"])
    async def rank(self, ctx, member: discord.Member = None):
        member = member or ctx.author
        # üî• await
        user = await db.get_user(member.id)
        
        xp_now = user['xp']
        lvl_now = user['level']
        xp_need = lvl_now * 100
        
        percent = int((xp_now / xp_need) * 10)
        bar = "‚ñà" * percent + "‚ñë" * (10 - percent)

        embed = discord.Embed(title=f"üìä –†–∞–Ω–≥: {member.display_name}", color=discord.Color.blue())
        embed.set_thumbnail(url=member.avatar.url if member.avatar else member.default_avatar.url)
        embed.add_field(name="–£—Ä–æ–≤–µ–Ω—å", value=f"**{lvl_now}**", inline=True)
        embed.add_field(name="–û–ø—ã—Ç", value=f"{xp_now} / {xp_need} XP", inline=True)
        embed.add_field(name="–ü—Ä–æ–≥—Ä–µ—Å—Å", value=f"`[{bar}]`", inline=False)
        
        await ctx.send(embed=embed)

    @commands.command(name="top", aliases=["leaderboard", "lb"])
    async def leaderboard(self, ctx):
        # üî• await –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–ø–∞
        top_users = await db.get_top_users(10)
        
        if not top_users:
            return await ctx.send("‚ùå –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—É—Å—Ç–∞.")

        embed = discord.Embed(title="üèÜ –¢–û–ü-10 –ò–ì–†–û–ö–û–í", color=discord.Color.gold())
        description = ""
        medals = ["ü•á", "ü•à", "ü•â"]
        
        for i, (user_id, level, xp) in enumerate(top_users):
            member = ctx.guild.get_member(user_id)
            name = member.display_name if member else f"ID: {user_id}"
            
            prefix = medals[i] if i < 3 else f"**#{i+1}**"
            description += f"{prefix} **{name}** ‚Äî –£—Ä. {level} ({xp} XP)\n"

        embed.description = description
        await ctx.send(embed=embed)

async def setup(bot):
    await bot.add_cog(Levels(bot))

==================================================
üìÇ –§–ê–ô–õ: .\cogs\moderation.py
==================================================
import discord
from discord.ext import commands
import asyncio
import config
from datetime import datetime
from database import db

class Moderation(commands.Cog):
    def __init__(self, bot):
        self.bot = bot

    def get_log_channel(self, guild):
        return guild.get_channel(config.LOG_CHANNEL)

    async def get_or_create_muted_role(self, guild):
        muted_role = discord.utils.get(guild.roles, name="Muted")
        if not muted_role:
            muted_role = await guild.create_role(name="Muted", reason="–î–ª—è —Å–∏—Å—Ç–µ–º—ã –º—É—Ç–æ–≤")
            for channel in guild.channels:
                try:
                    await channel.set_permissions(muted_role, send_messages=False, speak=False, add_reactions=False)
                except: pass
        return muted_role

    @commands.command(name="mute")
    @commands.has_permissions(kick_members=True)
    async def mute(self, ctx, member: discord.Member, time_str: str, *, reason="–ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª"):
        time_unit = time_str[-1]
        try:
            time_val = int(time_str[:-1])
        except ValueError:
            return await ctx.send("‚ùå –û—à–∏–±–∫–∞! –§–æ—Ä–º–∞—Ç: `10m`, `1h`.")

        seconds = 0
        if time_unit == "s": seconds = time_val
        elif time_unit == "m": seconds = time_val * 60
        elif time_unit == "h": seconds = time_val * 3600
        else:
            return await ctx.send("‚ùå –ò—Å–ø–æ–ª—å–∑—É–π m (–º–∏–Ω—É—Ç—ã) –∏–ª–∏ h (—á–∞—Å—ã).")

        muted_role = await self.get_or_create_muted_role(ctx.guild)
        
        if muted_role not in member.roles:
            await member.add_roles(muted_role, reason=reason)
            await ctx.send(f"ü§ê **{member.name}** –∑–∞–º—É—á–µ–Ω –Ω–∞ **{time_str}**.\nüìù –ü—Ä–∏—á–∏–Ω–∞: {reason}")
        else:
            await ctx.send(f"‚ö†Ô∏è **{member.name}** —É–∂–µ –≤ –º—É—Ç–µ!")

        await asyncio.sleep(seconds)
        
        if muted_role in member.roles:
            await member.remove_roles(muted_role)
            await ctx.send(f"üó£Ô∏è **{member.name}** —Å–≤–æ–±–æ–¥–µ–Ω (–≤—Ä–µ–º—è –º—É—Ç–∞ –≤—ã—à–ª–æ).")

    @commands.command(name="unmute")
    @commands.has_permissions(kick_members=True)
    async def unmute(self, ctx, member: discord.Member):
        muted_role = discord.utils.get(ctx.guild.roles, name="Muted")
        if muted_role and muted_role in member.roles:
            await member.remove_roles(muted_role)
            await ctx.send(f"‚úÖ –ú—É—Ç —Å–Ω—è—Ç —Å **{member.name}**.")
        else:
            await ctx.send("‚ùå –≠—Ç–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤ –º—É—Ç–µ.")

    @commands.command(name="warn")
    @commands.has_permissions(kick_members=True)
    async def warn(self, ctx, member: discord.Member, *, reason="–ù–∞—Ä—É—à–µ–Ω–∏–µ"):
        # üî• –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ await
        await db.add_warn(member.id, ctx.author.id, reason)
        warns = await db.get_warns(member.id)
        count = len(warns)
        
        embed = discord.Embed(title="‚ö†Ô∏è –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï", color=discord.Color.red())
        embed.add_field(name="–ù–∞—Ä—É—à–∏—Ç–µ–ª—å", value=member.mention)
        embed.add_field(name="–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä", value=ctx.author.mention)
        embed.add_field(name="–ü—Ä–∏—á–∏–Ω–∞", value=reason)
        embed.set_footer(text=f"–í–∞—Ä–Ω {count}/3")
        await ctx.send(embed=embed)

        if count >= 3:
            await ctx.send(f"üö® **{member.name}** –Ω–∞–±—Ä–∞–ª 3 –≤–∞—Ä–Ω–∞! –ê–≤—Ç–æ-–º—É—Ç –Ω–∞ 1 —á–∞—Å.")
            await db.remove_warns(member.id)
            await self.mute(ctx, member, "1h", reason="3 –≤–∞—Ä–Ω–∞")

    @commands.command(name="warns")
    async def check_warns(self, ctx, member: discord.Member = None):
        member = member or ctx.author
        # üî• –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ await
        warns = await db.get_warns(member.id)
        
        if not warns:
            return await ctx.send(f"‚úÖ –£ **{member.name}** –Ω–µ—Ç –≤–∞—Ä–Ω–æ–≤.")

        embed = discord.Embed(title=f"üìú –ò—Å—Ç–æ—Ä–∏—è {member.name}", color=discord.Color.orange())
        for row in warns:
            embed.add_field(name=f"üìÖ {row[2]}", value=f"**–ü—Ä–∏—á–∏–Ω–∞:** {row[1]}\n**–û—Ç:** <@{row[0]}>", inline=False)
        await ctx.send(embed=embed)

    @commands.command(name="clear")
    @commands.has_permissions(manage_messages=True)
    async def clear(self, ctx, amount: int):
        await ctx.channel.purge(limit=amount + 1)
        await ctx.send(f"‚úÖ –£–¥–∞–ª–µ–Ω–æ {amount} —Å–æ–æ–±—â–µ–Ω–∏–π.", delete_after=5)

    @commands.Cog.listener()
    async def on_message_delete(self, message):
        if message.author.bot: return
        channel = self.get_log_channel(message.guild)
        if channel:
            embed = discord.Embed(title="üóëÔ∏è –£–¥–∞–ª–µ–Ω–æ", color=discord.Color.red(), timestamp=datetime.now())
            embed.description = f"**–ê–≤—Ç–æ—Ä:** {message.author.mention}\n**–ö–∞–Ω–∞–ª:** {message.channel.mention}"
            content = message.content or "[–í–ª–æ–∂–µ–Ω–∏–µ]"
            embed.add_field(name="–¢–µ–∫—Å—Ç:", value=content[:1000], inline=False)
            await channel.send(embed=embed)

async def setup(bot):
    await bot.add_cog(Moderation(bot))

==================================================
üìÇ –§–ê–ô–õ: .\cogs\random_events.py
==================================================
import discord
from discord.ext import commands
import asyncio
import random
import json
from database import db

class PersistentChestView(discord.ui.View):
    def __init__(self):
        super().__init__(timeout=None)

    @discord.ui.button(label="üñêÔ∏è –£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å", style=discord.ButtonStyle.success, emoji="üí∞", custom_id="chest_join_btn")
    async def join_chest(self, interaction: discord.Interaction, button: discord.ui.Button):
        try:
            # üî• await
            event_data = await db.get_event(interaction.message.id)
            
            if not event_data:
                button.disabled = True
                button.label = "‚ùå –ò—Å—Ç–µ–∫"
                await interaction.response.edit_message(view=self)
                return await interaction.followup.send("‚è≥ –≠—Ç–æ—Ç —Å—É–Ω–¥—É–∫ —É–∂–µ –ø—É—Å—Ç –∏–ª–∏ –∏—Å—Ç–µ–∫!", ephemeral=True)

            msg_id, ch_id, reward, required, users_json = event_data
            users_list = json.loads(users_json)

            if interaction.user.id in users_list:
                return await interaction.response.send_message("‚ö†Ô∏è –¢—ã —É–∂–µ –∑–∞–ø–∏—Å–∞–Ω!", ephemeral=True)

            users_list.append(interaction.user.id)
            # üî• await
            await db.update_event_users(msg_id, users_list)

            current = len(users_list)
            remaining = required - current

            if current >= required:
                for uid in users_list:
                    # üî• await
                    await db.add_coins(uid, reward)
                
                await db.delete_event(msg_id)
                
                embed = interaction.message.embeds[0]
                embed.color = discord.Color.green()
                embed.title = "‚úÖ –°–£–ù–î–£–ö –û–¢–ö–†–´–¢!"
                embed.description = f"üéâ **{current}** —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–æ–ª—É—á–∏–ª–∏ –ø–æ **{reward}** –º–æ–Ω–µ—Ç!"
                
                button.disabled = True
                button.label = f"üí∞ –û—Ç–∫—Ä—ã—Ç–æ ({current}/{required})"
                await interaction.response.edit_message(embed=embed, view=self)
                await interaction.channel.send(f"üéâ **–°–£–ù–î–£–ö –û–¢–ö–†–´–¢!** –í—Å–µ –ø–æ–ª—É—á–∏–ª–∏ –ø–æ {reward} –º–æ–Ω–µ—Ç!")
            
            else:
                button.label = f"üñêÔ∏è –£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å ({current}/{required})"
                await interaction.response.edit_message(view=self)
                await interaction.followup.send(f"‚úÖ –¢—ã –∑–∞–ø–∏—Å–∞–Ω! –ù—É–∂–Ω–æ –µ—â–µ {remaining} —á–µ–ª.", ephemeral=True)
        
        except Exception as e:
            print(f"[Chest Error] {e}")
            await interaction.response.send_message(f"‚ùå **–û—à–∏–±–∫–∞:** `{e}`", ephemeral=True)

class RandomEvents(commands.Cog):
    def __init__(self, bot):
        self.bot = bot
        self.event_loop_task = None
        self.bot.add_view(PersistentChestView())

    @commands.Cog.listener()
    async def on_ready(self):
        if not self.event_loop_task:
            self.event_loop_task = self.bot.loop.create_task(self.event_loop())

    async def event_loop(self):
        await self.bot.wait_until_ready()
        while not self.bot.is_closed():
            wait_seconds = random.randint(3600, 10800)
            await asyncio.sleep(wait_seconds)
            await self.spawn_random_chest()

    async def spawn_random_chest(self, channel=None):
        if not channel:
            channel = discord.utils.get(self.bot.get_all_channels(), name="üéâ„Éª–∏–≤–µ–Ω—Ç—ã") or \
                      discord.utils.get(self.bot.get_all_channels(), name="üéâ-–∏–≤–µ–Ω—Ç—ã")
        if not channel: return

        required = random.randint(2, 6)
        reward = random.randint(50, 150)

        embed = discord.Embed(
            title="üéÅ –°–õ–£–ß–ê–ô–ù–´–ô –°–£–ù–î–£–ö",
            description=f"–ù—É–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å **{required}** —á–µ–ª–æ–≤–µ–∫!\n–ù–∞–≥—Ä–∞–¥–∞: **{reward} –º–æ–Ω–µ—Ç**",
            color=discord.Color.gold()
        )
        embed.set_image(url="https://media.tenor.com/J3i5eC5T458AAAAC/treasure-chest.gif")

        msg = await channel.send(embed=embed, view=PersistentChestView())
        
        try:
            # üî• await
            await db.create_event(msg.id, channel.id, reward, required)
        except Exception as e:
            await channel.send(f"‚ö†Ô∏è –û—à–∏–±–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: `{e}`")

    @commands.command(name="testevent")
    @commands.has_permissions(administrator=True)
    async def force_event(self, ctx):
        await ctx.message.delete()
        await self.spawn_random_chest(ctx.channel)

async def setup(bot):
    await bot.add_cog(RandomEvents(bot))

==================================================
üìÇ –§–ê–ô–õ: .\cogs\roles_panel.py
==================================================
import discord
from discord.ext import commands

# --- –ù–ê–°–¢–†–û–ô–ö–ò ---
# –ú—ã –±–µ—Ä–µ–º –¢–û–ß–ù–´–ï –Ω–∞–∑–≤–∞–Ω–∏—è –∏–∑ —Ç–≤–æ–µ–≥–æ —Å–ø–∏—Å–∫–∞.
# –ù–∞ –∫–Ω–æ–ø–∫–µ –ø–∏—à–µ–º –∫–æ—Ä–æ—Ç–∫–æ (button_label), –∞ –∏—â–µ–º –¥–ª–∏–Ω–Ω–æ–µ (role_name).

ROLES_CONFIG = {
    "role_rpg": {
        "button_label": "RPG", 
        "role_name": "üó°Ô∏è –ì–µ—Ä–æ–π –ú–µ—á–∞ (RPG)", 
        "emoji": "üó°Ô∏è", 
        "style": discord.ButtonStyle.primary
    },
    "role_mmo": {
        "button_label": "MMO", 
        "role_name": "üéí –°—Ç—Ä–∞–Ω–Ω–∏–∫ –ú–∏—Ä–æ–≤ (MMO)", 
        "emoji": "üéí", 
        "style": discord.ButtonStyle.success
    },
    "role_shooter": {
        "button_label": "Shooter", 
        "role_name": "üéØ –ú–µ—Ç–∫–∏–π –°—Ç—Ä–µ–ª–æ–∫ (Shooter)", 
        "emoji": "üéØ", 
        "style": discord.ButtonStyle.primary
    },
    "role_moba": {
        "button_label": "MOBA", 
        "role_name": "‚ö° –í–æ–∏–Ω –ê—Ä–µ–Ω—ã (MOBA)", 
        "emoji": "‚ö°", 
        "style": discord.ButtonStyle.danger
    },
    "role_rts": {
        "button_label": "RTS", 
        "role_name": "‚ôüÔ∏è –¢–∞–∫—Ç–∏–∫ –†–µ–∞–ª–º–∞ (RTS)", 
        "emoji": "‚ôüÔ∏è", 
        "style": discord.ButtonStyle.secondary
    },
    "role_ccg": {
        "button_label": "CCG (–ö–∞—Ä—Ç—ã)", 
        "role_name": "üÉè –ú–∞—Å—Ç–µ—Ä –ö–æ–ª–æ–¥—ã (CCG)", 
        "emoji": "üÉè", 
        "style": discord.ButtonStyle.secondary
    },
    "role_platformer": {
        "button_label": "Platformer", 
        "role_name": "ü¶ò –ü—Ä—ã–≥—É—á–∏–π –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä", 
        "emoji": "ü¶ò", 
        "style": discord.ButtonStyle.secondary
    },
    "role_sandbox": {
        "button_label": "Sandbox", 
        "role_name": "üß± –°–æ–∑–∏–¥–∞—Ç–µ–ª—å –†–µ–∞–ª–º–∞", 
        "emoji": "üß±", 
        "style": discord.ButtonStyle.primary
    }
}

class RoleButton(discord.ui.Button):
    def __init__(self, role_key, data):
        super().__init__(
            style=data["style"],
            label=data["button_label"],
            emoji=data["emoji"],
            custom_id=role_key,
            # –ü–µ—Ä–≤—ã–µ 4 –∫–Ω–æ–ø–∫–∏ –≤ —Ä—è–¥ 0, –≤—Ç–æ—Ä—ã–µ 4 –∫–Ω–æ–ø–∫–∏ –≤ —Ä—è–¥ 1
            row=0 if list(ROLES_CONFIG.keys()).index(role_key) < 4 else 1 
        )
        self.role_to_give = data["role_name"]

    async def callback(self, interaction: discord.Interaction):
        # –ò—â–µ–º —Ä–æ–ª—å –ø–æ –¢–û–ß–ù–û–ú–£ –Ω–∞–∑–≤–∞–Ω–∏—é
        role = discord.utils.get(interaction.guild.roles, name=self.role_to_give)
        
        if not role:
            return await interaction.response.send_message(
                f"‚ùå **–û–®–ò–ë–ö–ê –ö–û–ù–§–ò–ì–ê:**\n–Ø –ø—ã—Ç–∞–ª—Å—è –Ω–∞–π—Ç–∏ —Ä–æ–ª—å `{self.role_to_give}`, –Ω–æ –µ—ë –Ω–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.\n–ü—Ä–æ–≤–µ—Ä—å, –Ω–µ —É–¥–∞–ª–∏–ª –ª–∏ —Ç—ã –µ—ë?", 
                ephemeral=True
            )

        user = interaction.user
        if role in user.roles:
            await user.remove_roles(role)
            await interaction.response.send_message(f"üóëÔ∏è –†–æ–ª—å **{self.role_to_give}** —É–±—Ä–∞–Ω–∞.", ephemeral=True)
        else:
            await user.add_roles(role)
            await interaction.response.send_message(f"‚úÖ –†–æ–ª—å **{self.role_to_give}** –≤—ã–¥–∞–Ω–∞!", ephemeral=True)

class RolesView(discord.ui.View):
    def __init__(self):
        super().__init__(timeout=None) # –î–µ–ª–∞–µ–º –∫–Ω–æ–ø–∫–∏ –≤–µ—á–Ω—ã–º–∏
        for key, data in ROLES_CONFIG.items():
            self.add_item(RoleButton(key, data))

class RolesPanel(commands.Cog):
    def __init__(self, bot):
        self.bot = bot
        # üî• –í–û–°–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–ú –ö–ù–û–ü–ö–ò –ü–†–ò –ó–ê–ü–£–°–ö–ï üî•
        self.bot.add_view(RolesView())

    @commands.command(name="rolemenu")
    @commands.has_permissions(administrator=True)
    async def send_panel(self, ctx):
        await ctx.message.delete()
        embed = discord.Embed(
            title="üé≠ –í–´–ë–û–† –ò–ì–†–û–í–´–• –ò–ù–¢–ï–†–ï–°–û–í",
            description="–ù–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏!\n–ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ —É–±–µ—Ä–µ—Ç —Ä–æ–ª—å.",
            color=0x9B59B6
        )
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–Ω–æ–ø–∫–∞–º–∏
        await ctx.send(embed=embed, view=RolesView())

async def setup(bot):
    await bot.add_cog(RolesPanel(bot))

==================================================
üìÇ –§–ê–ô–õ: .\cogs\roles_permissions_sorted.py
==================================================
Ôªøimport discord
from discord.ext import commands
import asyncio
import config # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ LOG_CHANNEL

# –°–ø–∏—Å–æ–∫ —Ä–æ–ª–µ–π –æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
GAMEFUN_ROLES = [
    {
        "name": "üî± –í–µ—Ä—Ö–æ–≤–Ω—ã–π –ê—Ä—Ö–æ–Ω—Ç GameFun",
        "color": 0xFFB800,
        "permissions": discord.Permissions(administrator=True),
    },
    {
        "name": "üî• –ê—Ä—Ö–æ–Ω—Ç –ü–ª–∞–º–µ–Ω–∏",
        "color": 0xD47E00,
        "permissions": discord.Permissions(
            manage_guild=True, manage_roles=True, manage_channels=True,
            manage_messages=True, view_audit_log=True, kick_members=True, ban_members=True,
        )
    },
    {
        "name": "üõ°Ô∏è –°—Ç—Ä–∞–∂ –û–≥–Ω–µ–Ω–Ω—ã—Ö –ü—É—Ç–µ–π",
        "color": 0xC0392B,
        "permissions": discord.Permissions(
            manage_messages=True, read_message_history=True, mute_members=True,
            moderate_members=True, move_members=True, kick_members=True,
        )
    },
    {
        "name": "üß≠ –•—Ä–∞–Ω–∏—Ç–µ–ª—å –†–µ–∞–ª–º–∞",
        "color": 0x1ABC9C,
        "permissions": discord.Permissions(
            read_message_history=True, moderate_members=True, send_messages=True,
            speak=True, connect=True,
        )
    },
    ("‚ú® –ò—Å–∫—Ä–∞ –ù–∞—á–∞–ª–∞", 0xF8C471),
    ("üî• –û–≥–Ω–µ–Ω–Ω–∞—è –°—Ç—É–ø–µ–Ω—å", 0xE67E22),
    ("üå™Ô∏è –ü–µ–ø–µ–ª—å–Ω—ã–π –®—Ç–æ—Ä–º", 0xD35400),
    ("üî•üëë –ê—Ä—Ö–æ–Ω—Ç –ü–ª–∞–º–µ–Ω–∏+", 0xFF6F00),
    ("üó°Ô∏è –ì–µ—Ä–æ–π –ú–µ—á–∞ (RPG)", 0x8E44AD),
    ("üéí –°—Ç—Ä–∞–Ω–Ω–∏–∫ –ú–∏—Ä–æ–≤ (MMO)", 0x27AE60),
    ("‚ôüÔ∏è –¢–∞–∫—Ç–∏–∫ –†–µ–∞–ª–º–∞ (RTS)", 0x34495E),
    ("‚ö° –í–æ–∏–Ω –ê—Ä–µ–Ω—ã (MOBA)", 0x2980B9),
    ("üéØ –ú–µ—Ç–∫–∏–π –°—Ç—Ä–µ–ª–æ–∫ (Shooter)", 0x2C3E50),
    ("üÉè –ú–∞—Å—Ç–µ—Ä –ö–æ–ª–æ–¥—ã (CCG)", 0x7D3C98),
    ("ü¶ò –ü—Ä—ã–≥—É—á–∏–π –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä", 0xAF601A),
    ("üß± –°–æ–∑–∏–¥–∞—Ç–µ–ª—å –†–µ–∞–ª–º–∞", 0xF39C12),
    ("üé• –ì–æ–ª–æ—Å –ú–∏—Ä–æ–≤ (Streamer)", 0x9B59B6),
    ("üñåÔ∏è –¢–∫–∞—á –ö–æ–Ω—Ç–µ–Ω—Ç–∞", 0xE74C3C),
    ("üèÜüî• –õ–µ–≥–µ–Ω–¥–∞ –ê—Ä—Ö–æ–Ω—Ç–æ–≤", 0xFF4500),
    ("üíé –û–∫—Ä—ã–ª—ë–Ω–Ω—ã–π –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç–µ–ª—å", 0x00E5FF),
    ("ü•á –ò–∑–±—Ä–∞–Ω–Ω—ã–π –†–µ–∞–ª–º–∞", 0xFFD700),
]

class RolePermissionsSorted(commands.Cog):
    def __init__(self, bot):
        self.bot = bot

    @commands.command()
    @commands.has_permissions(administrator=True)
    async def resetroles(self, ctx):
        """–ü–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª—è–µ—Ç –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–µ—Ç –≤—Å–µ —Ä–æ–ª–∏ GameFun —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º."""
        guild = ctx.guild
        
        role_names = []
        for item in GAMEFUN_ROLES:
            role_names.append(item["name"] if isinstance(item, dict) else item[0])

        total_steps = len(role_names) * 2
        estimated_seconds = int(total_steps * 1.2)
        
        await ctx.send(f"üß® **–ó–∞–ø—É—â–µ–Ω–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Ä–æ–ª–µ–π.**\n"
                       f"–û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–æ–µ –≤—Ä–µ–º—è: **~{estimated_seconds // 60} –º–∏–Ω. {estimated_seconds % 60} —Å–µ–∫.**")

        # --- –≠–¢–ê–ü 1: –£–î–ê–õ–ï–ù–ò–ï ---
        deleted_count = 0
        status_msg = await ctx.send("üóëÔ∏è –®–∞–≥ 1/2: –£–¥–∞–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π...")
        
        for name in role_names:
            role = discord.utils.get(guild.roles, name=name)
            if role:
                try:
                    await role.delete(reason=f"Reset by {ctx.author}")
                    deleted_count += 1
                    await asyncio.sleep(0.5) 
                except:
                    continue

        await status_msg.edit(content=f"‚úÖ –£–¥–∞–ª–µ–Ω–æ: {deleted_count}. –ü–µ—Ä–µ—Ö–æ–∂—É –∫ —Å–æ–∑–¥–∞–Ω–∏—é...")

        # --- –≠–¢–ê–ü 2: –°–û–ó–î–ê–ù–ò–ï –ò –°–û–†–¢–ò–†–û–í–ö–ê ---
        created_roles = []
        for item in GAMEFUN_ROLES:
            if isinstance(item, dict):
                name, color, perms = item["name"], item["color"], item["permissions"]
            else:
                name, color = item
                perms = discord.Permissions.none()

            try:
                role = await guild.create_role(
                    name=name, color=discord.Color(color), 
                    permissions=perms, reason=f"Reset by {ctx.author}"
                )
                created_roles.append(role)
                await asyncio.sleep(0.5)
            except Exception as e:
                print(f"–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è {name}: {e}")

        # –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
        bot_role = guild.get_member(self.bot.user.id).top_role
        base_position = bot_role.position - 1

        for i, role in enumerate(reversed(created_roles)):
            new_pos = max(1, base_position - i)
            try:
                await role.edit(position=new_pos)
            except:
                continue

        # --- –≠–¢–ê–ü 3: –õ–û–ì–ò–†–û–í–ê–ù–ò–ï ---
        log_channel = self.bot.get_channel(config.LOG_CHANNEL)
        if log_channel:
            log_embed = discord.Embed(
                title="üîÑ –†–µ—Å—Ç–∞—Ä—Ç –∏–µ—Ä–∞—Ä—Ö–∏–∏ —Ä–æ–ª–µ–π",
                description=f"–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä {ctx.author.mention} –≤—ã–ø–æ–ª–Ω–∏–ª –ø–æ–ª–Ω—É—é –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É —Ä–æ–ª–µ–π GameFun.",
                color=0x2ECC71 # –ó–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç —É—Å–ø–µ—Ö–∞
            )
            log_embed.add_field(name="–£–¥–∞–ª–µ–Ω–æ —Å—Ç–∞—Ä—ã—Ö", value=f"**{deleted_count}**", inline=True)
            log_embed.add_field(name="–°–æ–∑–¥–∞–Ω–æ –Ω–æ–≤—ã—Ö", value=f"**{len(created_roles)}**", inline=True)
            log_embed.set_footer(text=f"ID –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞: {ctx.author.id}")
            log_embed.set_timestamp()
            
            await log_channel.send(embed=log_embed)

        await ctx.send(f"üéØ **–ì–æ—Ç–æ–≤–æ!** –í—Å–µ —Ä–æ–ª–∏ –≤–æ—Å—Å–æ–∑–¥–∞–Ω—ã. –û—Ç—á–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ {log_channel.mention if log_channel else '–∫–∞–Ω–∞–ª –ª–æ–≥–æ–≤'}.")

async def setup(bot):
    await bot.add_cog(RolePermissionsSorted(bot))

==================================================
üìÇ –§–ê–ô–õ: .\cogs\rules.py
==================================================
import discord
from discord.ext import commands

class Rules(commands.Cog):
    def __init__(self, bot):
        self.bot = bot

    @commands.command(name="sendrules")
    @commands.has_permissions(administrator=True)
    async def send_rules(self, ctx):
        """–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫—Ä–∞—Å–∏–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Å–µ—Ä–≤–µ—Ä–∞ –≤ –∫–∞–Ω–∞–ª üìú-rules."""
        channel = discord.utils.get(ctx.guild.text_channels, name="üìú-rules")
        
        if not channel:
            return await ctx.send("‚ùå –ö–∞–Ω–∞–ª `#üìú-rules` –Ω–µ –Ω–∞–π–¥–µ–Ω!")

        # –¶–≤–µ—Ç–∞ –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
        RED = 0xE74C3C       # –û—Å–Ω–æ–≤–Ω–æ–π –∫—Ä–∞—Å–Ω—ã–π
        DARK_RED = 0x992D22  # –¢–µ–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π –¥–ª—è –∞–¥–º–∏–Ω–∫–∏

        # --- 1. –ó–ê–ì–û–õ–û–í–û–ö (–®–ê–ü–ö–ê) ---
        embed_header = discord.Embed(
            title="‚öñÔ∏è –ó–ê–ö–û–ù–´ –ò –ü–†–ê–í–ò–õ–ê –°–ï–†–í–ï–†–ê",
            description="# üõ°Ô∏è –ù–ò–ñ–ï –û–ü–ò–°–ê–ù–´ –ü–†–ê–í–ò–õ–ê –ù–ê–•–û–ñ–î–ï–ù–ò–Ø\n### ‚ùó –ù–µ–∑–Ω–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –Ω–µ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.",
            color=RED
        )
        if ctx.guild.icon:
            embed_header.set_thumbnail(url=ctx.guild.icon.url)
        
        await channel.send(embed=embed_header)

        # --- 2. –ü–û–í–ï–î–ï–ù–ò–ï –ò –ö–û–ù–¢–ï–ù–¢ ---
        embed_behavior = discord.Embed(
            description=(
                "## 1Ô∏è‚É£ –ü–û–í–ï–î–ï–ù–ò–ï –ò –õ–ò–ß–ù–û–°–¢–¨\n"
                "### üõë 1.1. –ê–≥—Ä–µ—Å—Å–∏—è –∏ –¢–æ–∫—Å–∏—á–Ω–æ—Å—Ç—å\n"
                "–ó–∞–ø—Ä–µ—â–µ–Ω—ã –æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è, —É–Ω–∏–∂–µ–Ω–∏—è —á–µ—Å—Ç–∏ –∏ –¥–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤–∞, –∞ —Ç–∞–∫–∂–µ –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ü–∏—è –ø–æ –ª—é–±–æ–º—É –ø—Ä–∏–∑–Ω–∞–∫—É.\n\n"
                "### ü§¨ 1.2. –ó–∞–ø—Ä–µ—Ç–Ω—ã–µ —Ç–µ–º—ã\n"
                "–°—Ç—Ä–æ–≥–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ **–ø–æ–ª–∏—Ç–∏–∫–∏**, —Ä–µ–ª–∏–≥–∏–∏ –∏ —Ä–∞–∑–∂–∏–≥–∞–Ω–∏–µ –º–µ–∂–Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π —Ä–æ–∑–Ω–∏.\n\n"
                "### üë®‚Äçüë©‚Äçüë¶ 1.3. –†–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏\n"
                "–õ—é–±–æ–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ —Ä–æ–¥–Ω—ã—Ö –≤ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–º –∫–ª—é—á–µ ‚Äî **–ü–µ—Ä–º–∞–Ω–µ–Ω—Ç–Ω—ã–π –ë–ê–ù** –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è.\n\n"
                "## 2Ô∏è‚É£ –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨\n"
                "### üîû 2.1. –ö–æ–Ω—Ç–µ–Ω—Ç 18+\n"
                "NSFW, –ø–æ—Ä–Ω–æ–≥—Ä–∞—Ñ–∏—è –∏ —à–æ–∫-–∫–æ–Ω—Ç–µ–Ω—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω—ã **—Ç–æ–ª—å–∫–æ** –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –æ—Ç–≤–µ–¥–µ–Ω–Ω—ã—Ö –∫–∞–Ω–∞–ª–∞—Ö.\n\n"
                "### üì¢ 2.2. –†–µ–∫–ª–∞–º–∞\n"
                "–ó–∞–ø—Ä–µ—â–µ–Ω–∞ —Ä–∞—Å—Å—ã–ª–∫–∞ —Å—Å—ã–ª–æ–∫ –Ω–∞ –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ –∏–ª–∏ —Å–∞–π—Ç—ã –±–µ–∑ –æ–¥–æ–±—Ä–µ–Ω–∏—è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏."
            ),
            color=RED
        )
        await channel.send(embed=embed_behavior)

        # --- 3. –ß–ê–¢, –í–û–ô–° –ò –ü–†–û–§–ò–õ–¨ ---
        embed_chat = discord.Embed(
            description=(
                "## 3Ô∏è‚É£ –û–ë–©–ï–ù–ò–ï (–ß–ê–¢ –ò –ì–û–õ–û–°)\n"
                "### üå™Ô∏è 3.1. –°–ø–∞–º –∏ –§–ª—É–¥\n"
                "–ù–µ –∑–∞—Å–æ—Ä—è–π—Ç–µ —á–∞—Ç –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏, `CAPS LOCK` –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ–º —Ñ—Ä–∞–∑.\n\n"
                "### üîä 3.2. –ü–æ–º–µ—Ö–∏ –≤ –≥–æ–ª–æ—Å–µ\n"
                "–ó–∞–ø—Ä–µ—â–µ–Ω–æ –∫—Ä–∏—á–∞—Ç—å –≤ –º–∏–∫—Ä–æ—Ñ–æ–Ω, –≤–∫–ª—é—á–∞—Ç—å –≥—Ä–æ–º–∫—É—é –º—É–∑—ã–∫—É (Soundpad) –±–µ–∑ —Å–æ–≥–ª–∞—Å–∏—è –≤—Å–µ—Ö —Å–∏–¥—è—â–∏—Ö –≤ –∫–æ–º–Ω–∞—Ç–µ.\n\n"
                "## 4Ô∏è‚É£ –í–ê–® –ü–†–û–§–ò–õ–¨\n"
                "### üé≠ 4.1. –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ\n"
                "–ó–∞–ø—Ä–µ—â–µ–Ω—ã –Ω–∏–∫–Ω–µ–π–º—ã –∏ –∞–≤–∞—Ç–∞—Ä–∫–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ —Ä–µ–∫–ª–∞–º—É, –æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è, –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –ª–æ–∑—É–Ω–≥–∏ –∏–ª–∏ NSFW."
            ),
            color=RED
        )
        await channel.send(embed=embed_chat)

        # --- 4. –ê–î–ú–ò–ù–ò–°–¢–†–ê–¶–ò–Ø (–§–ò–ù–ê–õ) ---
        embed_admin = discord.Embed(
            description=(
                "## 5Ô∏è‚É£ –ê–î–ú–ò–ù–ò–°–¢–†–ê–¶–ò–Ø\n"
                "### ‚öñÔ∏è 5.1. –†–µ—à–µ–Ω–∏—è\n"
                "–î–µ–π—Å—Ç–≤–∏—è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ —è–≤–ª—è—é—Ç—Å—è –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–º–∏ –∏ –Ω–µ –æ–±—Å—É–∂–¥–∞—é—Ç—Å—è –ø—É–±–ª–∏—á–Ω–æ.\n\n"
                "### üõ°Ô∏è 5.2. –ó–¥—Ä–∞–≤—ã–π —Å–º—ã—Å–ª\n"
                "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ –Ω–∞–∫–∞–∑–∞—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞ –∑–∞ –¥–µ—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –æ–ø–∏—Å–∞–Ω—ã –≤ —ç—Ç–æ–º —Å–ø–∏—Å–∫–µ.\n\n"
                "### üîÑ 5.3. –û–±—Ö–æ–¥ –Ω–∞–∫–∞–∑–∞–Ω–∏—è\n"
                "–ó–∞—Ö–æ–¥ —Å –¥—Ä—É–≥–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ (—Ç–≤–∏–Ω–∫–æ–≤) –≤–æ –≤—Ä–µ–º—è –±–∞–Ω–∞ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –±–∞–Ω—É –≤—Å–µ—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –Ω–∞–≤—Å–µ–≥–¥–∞."
            ),
            color=DARK_RED
        )
        embed_admin.set_footer(text="–° —É–≤–∞–∂–µ–Ω–∏–µ–º, –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è GameFun")
        await channel.send(embed=embed_admin)

        # –ü–æ–¥—á–∏—â–∞–µ–º –∑–∞ —Å–æ–±–æ–π –∫–æ–º–∞–Ω–¥—É –∏ —Å–æ–æ–±—â–∞–µ–º –æ–± —É—Å–ø–µ—Ö–µ
        await ctx.message.delete()
        await ctx.send(f"‚úÖ –ü—Ä–∞–≤–∏–ª–∞ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –≤ –∫–∞–Ω–∞–ª–µ {channel.mention}!", delete_after=5)

async def setup(bot):
    await bot.add_cog(Rules(bot))

==================================================
üìÇ –§–ê–ô–õ: .\cogs\server_setup.py
==================================================
import discord
from discord.ext import commands
import config
import asyncio

# --- –°–ü–ò–°–û–ö –†–û–õ–ï–ô ---
ROLES_DB = [
    ("üî± –í–µ—Ä—Ö–æ–≤–Ω—ã–π –ê—Ä—Ö–æ–Ω—Ç GameFun", 0xFFD700, "admin"),
    ("üî• –ê—Ä—Ö–æ–Ω—Ç –ü–ª–∞–º–µ–Ω–∏", 0xE67E22, "mod_high"),
    ("üõ°Ô∏è –°—Ç—Ä–∞–∂ –û–≥–Ω–µ–Ω–Ω—ã—Ö –ü—É—Ç–µ–π", 0xE74C3C, "mod"),
    ("üó°Ô∏è –ì–µ—Ä–æ–π –ú–µ—á–∞ (RPG)", 0x9B59B6, "game"),
    ("üéí –°—Ç—Ä–∞–Ω–Ω–∏–∫ –ú–∏—Ä–æ–≤ (MMO)", 0x2ECC71, "game"),
    ("‚ôüÔ∏è –¢–∞–∫—Ç–∏–∫ –†–µ–∞–ª–º–∞ (RTS)", 0x34495E, "game"),
    ("‚ö° –í–æ–∏–Ω –ê—Ä–µ–Ω—ã (MOBA)", 0x3498DB, "game"),
    ("üéØ –ú–µ—Ç–∫–∏–π –°—Ç—Ä–µ–ª–æ–∫ (Shooter)", 0x95A5A6, "game"),
    ("üÉè –ú–∞—Å—Ç–µ—Ä –ö–æ–ª–æ–¥—ã (CCG)", 0xD35400, "game"),
    ("ü¶ò –ü—Ä—ã–≥—É—á–∏–π –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä", 0xF1C40F, "game"),
    ("üß± –°–æ–∑–∏–¥–∞—Ç–µ–ª—å –†–µ–∞–ª–º–∞", 0x8E44AD, "game"),
    ("‚ú® –ò—Å–∫—Ä–∞ –ù–∞—á–∞–ª–∞", 0xF39C12, "rank"),
    ("üî• –û–≥–Ω–µ–Ω–Ω–∞—è –°—Ç—É–ø–µ–Ω—å", 0xD35400, "rank"),
    ("üå™Ô∏è –ü–µ–ø–µ–ª—å–Ω—ã–π –®—Ç–æ—Ä–º", 0xC0392B, "rank"),
    ("üî•üëë –ê—Ä—Ö–æ–Ω—Ç –ü–ª–∞–º–µ–Ω–∏+", 0xFF0000, "rank"),
]

GAME_ROLES_MAP = {
    "‚öîÔ∏è„Éªrpg-–º–∏—Ä": "üó°Ô∏è –ì–µ—Ä–æ–π –ú–µ—á–∞ (RPG)",
    "üéí„Éªmmo-—Ü–µ–Ω—Ç—Ä": "üéí –°—Ç—Ä–∞–Ω–Ω–∏–∫ –ú–∏—Ä–æ–≤ (MMO)",
    "‚ôüÔ∏è„Éªrts-–∫–æ–º–Ω–∞—Ç–∞": "‚ôüÔ∏è –¢–∞–∫—Ç–∏–∫ –†–µ–∞–ª–º–∞ (RTS)",
    "‚ö°„Éªmoba-–∞—Ä–µ–Ω–∞": "‚ö° –í–æ–∏–Ω –ê—Ä–µ–Ω—ã (MOBA)",
    "üéØ„Éªshooter-–±–∞–∑–∞": "üéØ –ú–µ—Ç–∫–∏–π –°—Ç—Ä–µ–ª–æ–∫ (Shooter)",
    "üÉè„Éªccg-–∑–∞–ª": "üÉè –ú–∞—Å—Ç–µ—Ä –ö–æ–ª–æ–¥—ã (CCG)",
    "ü¶ò„Éªplatform-–∫–æ–º–Ω–∞—Ç–∞": "ü¶ò –ü—Ä—ã–≥—É—á–∏–π –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä",
    "üß±„Éªsandbox-–ª–∞–Ω–¥—à–∞—Ñ—Ç": "üß± –°–æ–∑–∏–¥–∞—Ç–µ–ª—å –†–µ–∞–ª–º–∞"
}

ADMIN_ROLES = ["üî± –í–µ—Ä—Ö–æ–≤–Ω—ã–π –ê—Ä—Ö–æ–Ω—Ç GameFun", "üî• –ê—Ä—Ö–æ–Ω—Ç –ü–ª–∞–º–µ–Ω–∏"]
MOD_ROLES = ["üõ°Ô∏è –°—Ç—Ä–∞–∂ –û–≥–Ω–µ–Ω–Ω—ã—Ö –ü—É—Ç–µ–π"]

class ServerSetup(commands.Cog):
    def __init__(self, bot):
        self.bot = bot

    def update_config_file(self, updates: dict):
        """–£–º–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–∞ —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç –∫–æ–¥–∏—Ä–æ–≤–æ–∫ (UTF-8 / CP1251)."""
        lines = []
        
        # 1. –ß–∏—Ç–∞–µ–º —Ñ–∞–π–ª (–ø—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏)
        try:
            with open("config.py", "r", encoding="utf-8") as f:
                lines = f.readlines()
        except UnicodeDecodeError:
            try:
                # –ï—Å–ª–∏ —Ñ–∞–π–ª –±—ã–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ Windows-–∫–æ–¥–∏—Ä–æ–≤–∫–µ
                with open("config.py", "r", encoding="cp1251") as f:
                    lines = f.readlines()
            except Exception as e:
                print(f"‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥–∞: {e}")
                return

        # 2. –ü–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ–º –≤ UTF-8 (—á—Ç–æ–±—ã –ø–æ—á–∏–Ω–∏—Ç—å —Ñ–∞–π–ª –Ω–∞–≤—Å–µ–≥–¥–∞)
        try:
            with open("config.py", "w", encoding="utf-8") as f:
                for line in lines:
                    updated_line = False
                    for key, value in updates.items():
                        if line.strip().startswith(f"{key} ="):
                            f.write(f"{key} = {value}\n")
                            updated_line = True
                            break
                    if not updated_line:
                        f.write(line)
            print("‚úÖ Config.py —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω!")
        except Exception as e:
            print(f"‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø–∏—Å–∏ –∫–æ–Ω—Ñ–∏–≥–∞: {e}")

    async def create_roles_safe(self, ctx, status_msg):
        guild = ctx.guild
        total = len(ROLES_DB)
        
        for i, (name, color_hex, r_type) in enumerate(ROLES_DB):
            if discord.utils.get(guild.roles, name=name):
                continue

            perms = discord.Permissions.general()
            if r_type == "admin": perms = discord.Permissions(administrator=True)
            elif r_type == "mod_high": perms = discord.Permissions(manage_guild=True, kick_members=True)
            elif r_type == "mod": perms = discord.Permissions(manage_messages=True)
            
            try:
                await guild.create_role(name=name, color=discord.Color(color_hex), permissions=perms)
                if i % 3 == 0:
                    await status_msg.edit(content=f"üé® –°–æ–∑–¥–∞–Ω–∏–µ —Ä–æ–ª–µ–π... ({i}/{total})")
                await asyncio.sleep(1.0)
            except Exception as e:
                print(f"Skip role {name}: {e}")

    async def create_category_safe(self, guild, name, channels, is_private=False, is_voice=False):
        overwrites = {guild.default_role: discord.PermissionOverwrite(view_channel=not is_private)}
        for r in ADMIN_ROLES + MOD_ROLES:
            role = discord.utils.get(guild.roles, name=r)
            if role: overwrites[role] = discord.PermissionOverwrite(view_channel=True)

        try:
            cat = await guild.create_category(name, overwrites=overwrites)
            await asyncio.sleep(2.0)
        except Exception as e:
            print(f"Category fail {name}: {e}")
            return None, {}

        created = {}
        for ch_name in channels:
            ch_over = overwrites.copy()
            
            if ch_name in GAME_ROLES_MAP:
                ch_over[guild.default_role] = discord.PermissionOverwrite(view_channel=False)
                role = discord.utils.get(guild.roles, name=GAME_ROLES_MAP[ch_name])
                if role: ch_over[role] = discord.PermissionOverwrite(view_channel=True)

            try:
                if is_voice:
                    ch = await guild.create_voice_channel(ch_name, category=cat, overwrites=ch_over)
                else:
                    ch = await guild.create_text_channel(ch_name, category=cat, overwrites=ch_over)
                created[ch_name] = ch
                await asyncio.sleep(1.5)
            except Exception as e:
                print(f"Channel fail {ch_name}: {e}")
        
        return cat, created

    @commands.command(name="resetserver")
    @commands.has_permissions(administrator=True)
    async def resetserver(self, ctx):
        await ctx.send("üß® **–£–¥–∞–ª—è—é –∫–∞–Ω–∞–ª—ã (–ø–æ–¥–æ–∂–¥–∏ 30 —Å–µ–∫)...**")
        for ch in ctx.guild.channels:
            if ch != ctx.channel:
                try: 
                    await ch.delete()
                    await asyncio.sleep(0.5)
                except: pass
        
        self.update_config_file({"LOG_CHANNEL": 0, "VOICE_CATEGORY_ID": 0, "VOICE_TRIGGER_CHANNEL": 0})
        await ctx.send("üóëÔ∏è **–ß–∏—Å—Ç–æ.** –ü–∏—à–∏ `!setupserver`.")

    @commands.command(name="setupserver")
    @commands.has_permissions(administrator=True)
    async def setupserver(self, ctx):
        msg = await ctx.send("‚è≥ **–ó–∞–ø—É—Å–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (–∑–∞–π–º–µ—Ç ~2-3 –º–∏–Ω—É—Ç—ã)...**")
        
        # 1. –†–æ–ª–∏
        await self.create_roles_safe(ctx, msg)
        await msg.edit(content="üèóÔ∏è –†–æ–ª–∏ –≥–æ—Ç–æ–≤—ã. –°—Ç—Ä–æ–∏–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (0/10)...")

        config_updates = {}
        guild = ctx.guild

        # –°—Ç—Ä—É–∫—Ç—É—Ä–∞
        structure = [
            ("üì• WELCOME.", ["üëã-welcome", "üìú-rules", "üé≠-choose-your-interest", "üì¢-announcements"], False, False),
            ("üí¨ COMMUNITY LOUNGE", ["üí¨-–æ–±—â–∏–π-—á–∞—Ç", "ü§™-—Ñ–ª—É–¥–∏–ª–∫–∞", "üì∑-–Ω–∞—à–∏-–º–æ–º–µ–Ω—Ç—ã", "üéß-–º—É–∑—ã–∫–∞"], False, False),
            ("üé® CREATIVE CORNER", ["üé®-—Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ", "üé•-–∫–ª–∏–ø—ã"], False, False),
            ("ü§ñ AI & TOOLS", ["ü§ñ-–±–æ—Ç-–ø–æ–º–æ—â–Ω–∏–∫", "üõ†Ô∏è-—Ä–µ–ø–æ—Ä—Ç—ã"], False, False),
            ("üõ°Ô∏è STAFF", ["üõ°Ô∏è-staff", "üö®-reports", "üìÅ-mod-log"], True, False),
            ("üéÆ –ò–≥—Ä–æ–≤—ã–µ –ú–∏—Ä—ã", ["‚öîÔ∏è„Éªrpg-–º–∏—Ä", "üéí„Éªmmo-—Ü–µ–Ω—Ç—Ä", "üéØ„Éªshooter-–±–∞–∑–∞", "‚ö°„Éªmoba-–∞—Ä–µ–Ω–∞"], False, False),
            ("üîä –ì–æ–ª–æ—Å–æ–≤—ã–µ –†–µ–∞–ª–º–∞", ["üîä ‚ûï –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É", "üîä„Éª–æ–±—â–∏–π", "üé§„Éª—Å—Ç—Ä–∏–º"], False, True),
            ("üõ°Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ", ["üî±„Éª–∞–¥–º–∏–Ω-—Ü–µ–Ω—Ç—Ä", "üî•„Éª–º–æ–¥–µ—Ä–∞—Ü–∏—è"], True, False),
            ("üåç –¶–µ–Ω—Ç—Ä –†–µ–∞–ª–º–∞", ["üí¨„Éª–æ–±—â–µ–Ω–∏–µ", "üéâ„Éª–∏–≤–µ–Ω—Ç—ã"], False, False),
            ("üõ†Ô∏è –°–ò–°–¢–ï–ú–ê", ["üìú‚îÉ–ª–æ–≥–∏-—Å–µ—Ä–≤–µ—Ä–∞"], True, False)
        ]

        for i, (cat_name, channels, is_private, is_voice) in enumerate(structure):
            await msg.edit(content=f"üèóÔ∏è –°—Ç—Ä–æ–∏–º —Ä–∞–∑–¥–µ–ª: **{cat_name}**... ({i+1}/{len(structure)})")
            
            cat, created_chans = await self.create_category_safe(guild, cat_name, channels, is_private, is_voice)
            
            if "üëã-welcome" in created_chans: config_updates["WELCOME_CHANNEL"] = created_chans["üëã-welcome"].id
            if "üîä ‚ûï –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É" in created_chans: 
                config_updates["VOICE_TRIGGER_CHANNEL"] = created_chans["üîä ‚ûï –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É"].id
                config_updates["VOICE_CATEGORY_ID"] = cat.id
            if "üìú‚îÉ–ª–æ–≥–∏-—Å–µ—Ä–≤–µ—Ä–∞" in created_chans: config_updates["LOG_CHANNEL"] = created_chans["üìú‚îÉ–ª–æ–≥–∏-—Å–µ—Ä–≤–µ—Ä–∞"].id

        self.update_config_file(config_updates)
        await msg.edit(content="‚úÖ **–ì–û–¢–û–í–û!** –í—Å–µ –∫–∞–Ω–∞–ª—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –∫–æ–Ω—Ñ–∏–≥ –æ–±–Ω–æ–≤–ª–µ–Ω.\n‚ö†Ô∏è **–ü–ï–†–ï–ó–ê–ü–£–°–¢–ò –ë–û–¢–ê (Ctrl+C -> Start)!**")

async def setup(bot):
    await bot.add_cog(ServerSetup(bot))

==================================================
üìÇ –§–ê–ô–õ: .\cogs\shop.py
==================================================
import discord
from discord.ext import commands
from database import db
import config

SHOP_ITEMS = {
    "vip": {"price": 500, "role_name": "üíé –û–∫—Ä—ã–ª—ë–Ω–Ω—ã–π –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç–µ–ª—å", "desc": "–£–Ω–∏–∫–∞–ª—å–Ω–∞—è —Ä–æ–ª—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞"},
    "legend": {"price": 2000, "role_name": "üèÜüî• –õ–µ–≥–µ–Ω–¥–∞ –ê—Ä—Ö–æ–Ω—Ç–æ–≤", "desc": "–°—Ç–∞—Ç—É—Å –ª–µ–≥–µ–Ω–¥—ã –∏ —É–≤–∞–∂–µ–Ω–∏–µ"},
    "rich": {"price": 5000, "role_name": "ü•á –ò–∑–±—Ä–∞–Ω–Ω—ã–π –†–µ–∞–ª–º–∞", "desc": "–°–∞–º–∞—è –¥–æ—Ä–æ–≥–∞—è —Ä–æ–ª—å –¥–ª—è —ç–ª–∏—Ç—ã"}
}

class Shop(commands.Cog):
    def __init__(self, bot):
        self.bot = bot

    @commands.command(name="shop")
    async def show_shop(self, ctx):
        # üî• await –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
        user_data = await db.get_user(ctx.author.id)
        user_balance = user_data['coins']
        
        embed = discord.Embed(
            title="üõí –ú–ê–ì–ê–ó–ò–ù –†–û–õ–ï–ô",
            description=f"# üí∞ –¢–≤–æ–π –±–∞–ª–∞–Ω—Å: {user_balance}\n\nüëá **–ö–ê–ö –ö–£–ü–ò–¢–¨?**\n–ü–∏—à–∏ –∫–æ–º–∞–Ω–¥—É: `!buy –∫–æ–¥`",
            color=discord.Color.gold()
        )

        for item_key, info in SHOP_ITEMS.items():
            price_text = f"### üí∏ –¶–µ–Ω–∞: {info['price']} –º–æ–Ω–µ—Ç"
            embed.add_field(
                name=f"üè∑Ô∏è –¢–û–í–ê–†: {info['role_name']}",
                value=f"{price_text}\n**–ö–æ–¥ –¥–ª—è –ø–æ–∫—É–ø–∫–∏:** `{item_key}`\nüìú *{info['desc']}*\n----------------",
                inline=False
            )
        
        await ctx.send(embed=embed)

    @commands.command(name="buy")
    async def buy_item(self, ctx, item_code: str = None):
        if not item_code:
            return await ctx.send("‚ùå **–û—à–∏–±–∫–∞!** –ü–∏—à–∏ —Ç–∞–∫: `!buy vip`")

        item_code = item_code.lower()
        if item_code not in SHOP_ITEMS:
            return await ctx.send("‚ùå –¢–∞–∫–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –Ω–µ—Ç –≤ –º–∞–≥–∞–∑–∏–Ω–µ.")

        item = SHOP_ITEMS[item_code]
        price = item["price"]
        role_name = item["role_name"]
        
        # 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ (async)
        user_data = await db.get_user(ctx.author.id)
        if user_data["coins"] < price:
            return await ctx.send(f"‚ùå **–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–µ–Ω–µ–≥!**\n–ù—É–∂–Ω–æ: {price} üí∞\n–£ —Ç–µ–±—è: {user_data['coins']} üí∞")

        # 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏
        role = discord.utils.get(ctx.guild.roles, name=role_name)
        if not role:
            return await ctx.send(f"‚ö†Ô∏è –û—à–∏–±–∫–∞ –∞–¥–º–∏–Ω–∞: –†–æ–ª—å '{role_name}' –Ω–µ —Å–æ–∑–¥–∞–Ω–∞!")
        
        if role in ctx.author.roles:
            return await ctx.send("‚ùå –£ —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å —ç—Ç–∞ —Ä–æ–ª—å!")

        # 3. –ü–æ–∫—É–ø–∫–∞
        try:
            # üî• await —Å–ø–∏—Å–∞–Ω–∏—è
            await db.add_coins(ctx.author.id, -price)
            await ctx.author.add_roles(role)
            
            embed = discord.Embed(
                title="üõçÔ∏è –£—Å–ø–µ—à–Ω–∞—è –ø–æ–∫—É–ø–∫–∞!",
                description=f"# ‚úÖ –¢–´ –ö–£–ü–ò–õ –†–û–õ–¨!\n–¢—ã –ø–æ—Ç—Ä–∞—Ç–∏–ª **{price}** –º–æ–Ω–µ—Ç –∏ –ø–æ–ª—É—á–∏–ª: **{role.mention}**",
                color=discord.Color.green()
            )
            await ctx.send(embed=embed)
            
        except discord.Forbidden:
            await ctx.send("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∞–≤: –†–æ–ª—å –±–æ—Ç–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –í–´–®–ï –ø—Ä–æ–¥–∞–≤–∞–µ–º–æ–π —Ä–æ–ª–∏!")

async def setup(bot):
    await bot.add_cog(Shop(bot))

==================================================
üìÇ –§–ê–ô–õ: .\cogs\voice_manager.py
==================================================
import discord
from discord.ext import commands
import config
import asyncio

class VoiceManager(commands.Cog):
    def __init__(self, bot):
        self.bot = bot
        self.voice_owners = {} # {channel_id: user_id}

    @commands.Cog.listener()
    async def on_voice_state_update(self, member, before, after):
        # 1. –õ–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è (Join to Create)
        if after.channel and after.channel.id == config.VOICE_TRIGGER_CHANNEL:
            category = member.guild.get_channel(config.VOICE_CATEGORY_ID)
            
            # –°–æ–∑–¥–∞–µ–º –∫–∞–Ω–∞–ª
            overwrites = {
                member.guild.default_role: discord.PermissionOverwrite(connect=True),
                member: discord.PermissionOverwrite(connect=True, move_members=True, manage_channels=True)
            }
            
            new_channel = await member.guild.create_voice_channel(
                name=f"üîä‚îÉ{member.display_name}",
                category=category,
                overwrites=overwrites
            )
            
            # –ó–∞–ø–æ–º–∏–Ω–∞–µ–º –≤–ª–∞–¥–µ–ª—å—Ü–∞
            self.voice_owners[new_channel.id] = member.id
            
            # –ü–µ—Ä–µ–∫–∏–¥—ã–≤–∞–µ–º
            await member.move_to(new_channel)

        # 2. –£–¥–∞–ª–µ–Ω–∏–µ –ø—É—Å—Ç—ã—Ö
        if before.channel and before.channel.category_id == config.VOICE_CATEGORY_ID:
            if before.channel.id != config.VOICE_TRIGGER_CHANNEL:
                if len(before.channel.members) == 0:
                    await asyncio.sleep(5) # –ñ–¥–µ–º 5 —Å–µ–∫
                    if len(before.channel.members) == 0:
                        try:
                            await before.channel.delete()
                            if before.channel.id in self.voice_owners:
                                del self.voice_owners[before.channel.id]
                        except: pass

    # --- –ö–û–ú–ê–ù–î–´ –£–ü–†–ê–í–õ–ï–ù–ò–Ø –ì–û–õ–û–°–û–ú ---

    @commands.command()
    async def lock(self, ctx):
        """–ó–∞–∫—Ä—ã–≤–∞–µ—Ç —Ç–≤–æ—é –≥–æ–ª–æ—Å–æ–≤—É—é –∫–æ–º–Ω–∞—Ç—É."""
        if not ctx.author.voice:
            return await ctx.send("‚ùå –¢—ã –Ω–µ –≤ –≤–æ–π—Å–µ.")
        
        channel = ctx.author.voice.channel
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞ (–ø–æ —Å–ª–æ–≤–∞—Ä—é –∏–ª–∏ –ø—Ä–∞–≤–∞–º)
        is_owner = self.voice_owners.get(channel.id) == ctx.author.id or channel.permissions_for(ctx.author).manage_channels
        
        if is_owner:
            await channel.set_permissions(ctx.guild.default_role, connect=False)
            await ctx.send(f"üîí –ö–æ–º–Ω–∞—Ç–∞ **{channel.name}** –∑–∞–∫—Ä—ã—Ç–∞ –¥–ª—è –≤—Å–µ—Ö.")
        else:
            await ctx.send("‚ùå –≠—Ç–æ –Ω–µ —Ç–≤–æ—è –∫–æ–º–Ω–∞—Ç–∞.")

    @commands.command()
    async def unlock(self, ctx):
        """–û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ç–≤–æ—é –≥–æ–ª–æ—Å–æ–≤—É—é –∫–æ–º–Ω–∞—Ç—É."""
        if not ctx.author.voice: return
        channel = ctx.author.voice.channel
        
        is_owner = self.voice_owners.get(channel.id) == ctx.author.id or channel.permissions_for(ctx.author).manage_channels
        
        if is_owner:
            await channel.set_permissions(ctx.guild.default_role, connect=True)
            await ctx.send(f"üîì –ö–æ–º–Ω–∞—Ç–∞ **{channel.name}** –æ—Ç–∫—Ä—ã—Ç–∞.")
        else:
            await ctx.send("‚ùå –≠—Ç–æ –Ω–µ —Ç–≤–æ—è –∫–æ–º–Ω–∞—Ç–∞.")

    @commands.command()
    @commands.has_permissions(administrator=True)
    async def voicepanel(self, ctx):
        """–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –≥–æ–ª–æ—Å—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)"""
        embed = discord.Embed(
            title="üîä –ì–æ–ª–æ—Å–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞",
            description="–ó–∞–π–¥–∏ –≤ –∫–∞–Ω–∞–ª **‚ûï –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É**, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ª–∏—á–Ω—ã–π –≤–æ–π—Å.\n\n"
                        "**–ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**\n"
                        "`!lock` ‚Äî –∑–∞–∫—Ä—ã—Ç—å –∫–æ–º–Ω–∞—Ç—É\n"
                        "`!unlock` ‚Äî –æ—Ç–∫—Ä—ã—Ç—å –∫–æ–º–Ω–∞—Ç—É",
            color=0x3498DB
        )
        await ctx.send(embed=embed)

async def setup(bot):
    await bot.add_cog(VoiceManager(bot))

==================================================
üìÇ –§–ê–ô–õ: .\cogs\welcome.py
==================================================
import discord
from discord.ext import commands
import config

class Welcome(commands.Cog):
    def __init__(self, bot):
        self.bot = bot

    @commands.Cog.listener()
    async def on_member_join(self, member):
        # –ü–æ–ª—É—á–∞–µ–º –∫–∞–Ω–∞–ª –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–π –ø–æ ID –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
        channel = member.guild.get_channel(config.WELCOME_CHANNEL)
        
        # –ò—â–µ–º –∫–∞–Ω–∞–ª—ã –ø—Ä–∞–≤–∏–ª –∏ —Ä–æ–ª–µ–π –ø–æ –∏–º–µ–Ω–∏ –¥–ª—è —Å—Å—ã–ª–æ–∫
        rules_channel = discord.utils.get(member.guild.text_channels, name="üìú-rules")
        roles_channel = discord.utils.get(member.guild.text_channels, name="üé≠-choose-your-interest")
        
        # –§–æ—Ä–º–∏—Ä—É–µ–º —Å—Å—ã–ª–∫–∏ (–µ—Å–ª–∏ –∫–∞–Ω–∞–ª—ã –Ω–∞–π–¥–µ–Ω—ã)
        rules_link = rules_channel.mention if rules_channel else "#–ø—Ä–∞–≤–∏–ª–∞"
        roles_link = roles_channel.mention if roles_channel else "#–≤—ã–±–æ—Ä-—Ä–æ–ª–µ–π"

        if channel:
            embed = discord.Embed(
                title=f"üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {member.display_name}!",
                description=(
                    f"–†–∞–¥—ã –≤–∏–¥–µ—Ç—å —Ç–µ–±—è –≤ **{member.guild.name}**!\n\n"
                    f"üìç –°–Ω–∞—á–∞–ª–∞ –∑–∞–≥–ª—è–Ω–∏ –≤ {rules_link}, —á—Ç–æ–±—ã –∑–Ω–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞.\n"
                    f"üé≠ –ê –∑–∞—Ç–µ–º –≤—ã–±–µ—Ä–∏ –∏–≥—Ä—ã –≤ {roles_link}."
                ),
                color=discord.Color.blue()
            )
            
            if member.avatar:
                embed.set_thumbnail(url=member.avatar.url)
            
            embed.set_footer(text=f"–¢–µ–ø–µ—Ä—å –Ω–∞—Å {member.guild.member_count}!")
            
            await channel.send(content=member.mention, embed=embed)

async def setup(bot):
    await bot.add_cog(Welcome(bot))
